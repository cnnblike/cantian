

SQL> --TEST SYNONYM
SQL> alter database set time_zone='+08:00';

Succeed.

SQL> alter database set time_zone='+00:00';

Succeed.

SQL> drop table if exists t_hint;

Succeed.

SQL> 
SQL> create table t_hint (fint1 int, fint2 int, fstr1 varchar(128), fstr2 varchar(128));

Succeed.

SQL> create index t_hint_idx1 on t_hint(fint1);

Succeed.

SQL> create index t_hint_idx2 on t_hint(fint2);

Succeed.

SQL> create index t_hint_idx3 on t_hint(fstr1);

Succeed.

SQL> create index t_hint_idx4 on t_hint(fstr2);

Succeed.

SQL> 
SQL> insert into t_hint values(1, 2, 'a', 'aa');

1 rows affected.

SQL> insert into t_hint values(2, 4, 'b', 'bb');

1 rows affected.

SQL> insert into t_hint values(3, 6, 'c', 'cc');

1 rows affected.

SQL> insert into t_hint values(4, 8, 'd', 'dd');

1 rows affected.

SQL> insert into t_hint values(5, 10, 'e', 'ee');

1 rows affected.

SQL> 
SQL> 
SQL> explain select fint1, fint2, fstr1, fstr2 from t_hint where fint1=1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT      |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | T_HINT_IDX1 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: FINT1 = 1                                        

10 rows fetched.

SQL> explain select fint1, fint2, fstr1, fstr2 from t_hint where fint2=1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT      |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | T_HINT_IDX2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: FINT2 = 1                                        

10 rows fetched.

SQL> explain select fint1, fint2, fstr1, fstr2 from t_hint where fstr1='a';

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT      |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | T_HINT_IDX3 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: FSTR1 = 'a'                                      

10 rows fetched.

SQL> explain select fint1, fint2, fstr1, fstr2 from t_hint where fstr2='a';

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT      |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | T_HINT_IDX4 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: FSTR2 = 'a'                                      

10 rows fetched.

SQL> 
SQL> explain select /*+ index(t t_hint_idx2) */ fint1, fint2, fstr1, fstr2 from t_hint t where fint1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX FULL SCAN            | SYS   | T_HINT_IDX2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FINT1 = 1                                        

10 rows fetched.

SQL> explain select /*+ index_ffs(t t_hint_idx2) */ fint1, fint2, fstr1, fstr2 from t_hint t where fint1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN       | SYS   | T_HINT_IDX2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FINT1 = 1                                        

10 rows fetched.

SQL> explain select /*+ index(t_hint t_hint_idx3) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fint2=1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | T_HINT_IDX2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: FINT2 = 1                                        

10 rows fetched.

SQL> explain select /*+ index_ffs(t_hint t_hint_idx3) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fint2=1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | T_HINT_IDX2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: FINT2 = 1                                        

10 rows fetched.

SQL> explain select /*+ index(t_hint t_hint_idx3) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint where fint2=1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT      |      |      |       |        |
| 2   |     INDEX FULL SCAN            | SYS   | T_HINT_IDX3 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FINT2 = 1                                        

10 rows fetched.

SQL> explain select /*+ index_ffs(t_hint t_hint_idx3) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint where fint2=1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT      |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN       | SYS   | T_HINT_IDX3 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FINT2 = 1                                        

10 rows fetched.

SQL> explain select /*+ index(t t_hint_idx4) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr1='a';

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX FULL SCAN            | SYS   | T_HINT_IDX4 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FSTR1 = 'a'                                      

10 rows fetched.

SQL> explain select /*+ index_ffs(t t_hint_idx4) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr1='a';

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN       | SYS   | T_HINT_IDX4 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FSTR1 = 'a'                                      

10 rows fetched.

SQL> explain select /*+ index(t t_hint_idx1) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr2='a';

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX FULL SCAN            | SYS   | T_HINT_IDX1 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FSTR2 = 'a'                                      

10 rows fetched.

SQL> explain select /*+ index_ffs(t t_hint_idx1) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr2='a';

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |             |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T_HINT T    |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN       | SYS   | T_HINT_IDX1 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: FSTR2 = 'a'                                      

10 rows fetched.

SQL> 
SQL> select /*+ index(t t_hint_idx2) this is a hint */ fint1, fint2, fstr1, fstr2 from t_hint t where fint1 = 1;

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------
1            2            a                                                                aa                                                              

1 rows fetched.

SQL> select /*+ index_ffs(t t_hint_idx2) this is a hint */ fint1, fint2, fstr1, fstr2 from t_hint t where fint1 = 1;

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------
1            2            a                                                                aa                                                              

1 rows fetched.

SQL> select /*+ index(t t_hint_idx3) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fint2=1;

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------

0 rows fetched.

SQL> select /*+ index_ffs(t t_hint_idx3) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fint2=1;

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------

0 rows fetched.

SQL> select /*+ index(t t_hint_idx4) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr1='a';

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------
1            2            a                                                                aa                                                              

1 rows fetched.

SQL> select /*+ index_ffs(t t_hint_idx4) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr1='a';

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------
1            2            a                                                                aa                                                              

1 rows fetched.

SQL> select /*+ index(t t_hint_idx1) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr2='a';

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------

0 rows fetched.

SQL> select /*+ index_ffs(t t_hint_idx1) this is a hint */fint1, fint2, fstr1, fstr2 from t_hint t where fstr2='a';

FINT1        FINT2        FSTR1                                                            FSTR2                                                           
------------ ------------ ---------------------------------------------------------------- ----------------------------------------------------------------

0 rows fetched.

SQL> 
SQL> --------------------------------------------------------------------------------
SQL> --------------------------------   HINTS   -------------------------------------
SQL> -------------------------------------------------------------------------------- 
SQL> BEGIN
  2     FOR i IN 1..10 LOOP
  3         -- drop if exists
  4         BEGIN
  5             EXECUTE IMMEDIATE 'drop table t' || i;
  6         EXCEPTION
  7             WHEN OTHERS THEN
  8                 NULL;
  9         END;
 10         EXECUTE IMMEDIATE 'create table t' || i || ' (c1 int, c2 int, c3 int, c4 int)';
 11         EXECUTE IMMEDIATE 'create unique index idx_t' || i || '_c1         on t' || i || '(c1)';
 12         EXECUTE IMMEDIATE 'create unique index idx_t' || i || '_c1_c2      on t' || i || '(c1, c2)';
 13         EXECUTE IMMEDIATE 'create unique index idx_t' || i || '_c1_c2_c3   on t' || i || '(c1, c2, c3)';
 14         EXECUTE IMMEDIATE 'insert into t' || i || ' values (1, 2, 3, 0)';
 15         EXECUTE IMMEDIATE 'insert into t' || i || ' values (2, 0, 1, 3)';
 16         EXECUTE IMMEDIATE 'insert into t' || i || ' values (0, 1, 2, 3)'; 
 17     END LOOP;
 18 END;
 19 /

PL/SQL procedure successfully completed.

SQL> 
SQL> 
SQL> -----------------------------   INDEX HINT   -----------------------------------
SQL> ----- 1. 功能用例 -----
SQL> explain select c1 from t1 where c1 >= 0;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |           |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0                                          

10 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2_c3 ) */ c1 from t1 where c1 >= 0;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0                                          

10 rows fetched.

SQL> select /*+ index( t1 idx_t1_c1_c2_c3 ) */ c1 from t1 where c1 >= 0;                 

C1          
------------
0           
1           
2           

3 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2_c3 idx_t1_c1_c2 ) */ c1 from t1 where c1 >= 0;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0                                          

10 rows fetched.

SQL> explain select c1,c2 from t1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2_c3 idx_t1_c1_c2 ) */ c1, c2 from t1; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------

7 rows fetched.

SQL> 
SQL> -- 不具备走索引条件，index hint无效，应考虑使用index_ffs
SQL> explain select /*+ index( t1 idx_t1_c1_c2_c3 ) */ c1, c2 from t1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select /*+ index_ffs( t1 idx_t1_c1_c2_c3 ) */ c1, c2 from t1; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------

7 rows fetched.

SQL> 
SQL> explain select c1, c2 from t1 order by c1, c2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX FULL SCAN           | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2_c3 ) */ c1, c2 from t1 order by c1, c2;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX FULL SCAN           | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select c1, c2 from t1 group by c1, c2;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name         | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |              |      |      |       |        |
| 1   |   INDEX GROUP BY                |       |              |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 3   |       INDEX FULL SCAN           | SYS   | IDX_T1_C1_C2 |      |      |       |        |
-----------------------------------------------------------------------------------------------

8 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 group by c1, c2; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name            | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |                 |      |      |       |        |
| 1   |   INDEX GROUP BY                |       |                 |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 3   |       INDEX FULL SCAN           | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
--------------------------------------------------------------------------------------------------

8 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1 ) */c1, c2 from t1 group by c1, c2;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name      | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |           |      |      |       |        |
| 1   |   HASH GROUP BY                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FULL SCAN            | SYS   | IDX_T1_C1 |      |      |       |        |
---------------------------------------------------------------------------------------------

8 rows fetched.

SQL> explain select /*+ index_ffs( t1 idx_t1_c1 ) */c1, c2 from t1 group by c1, c2;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name      | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |           |      |      |       |        |
| 1   |   HASH GROUP BY                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN       | SYS   | IDX_T1_C1 |      |      |       |        |
---------------------------------------------------------------------------------------------

8 rows fetched.

SQL> explain select /*+ index_ffs( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select /*+ no_index_ffs( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select /*+ index_desc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY        | SYS   | T1              |      |      |       |        |
| 2   |     INDEX FAST FULL SCAN DESCENDING | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------------

7 rows fetched.

SQL> explain select c1, c2 from t1 where c1 >= 0 and c2 >= 0;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0 AND C2 >= 0                              

10 rows fetched.

SQL> select c1, c2 from t1 where c1 >= 0 and c2 >= 0;          

C1           C2          
------------ ------------
0            1           
1            2           
2            0           

3 rows fetched.

SQL> explain select /*+ index_desc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name            | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY    | SYS   | T1              |      |      |       |        |
| 2   |     INDEX RANGE SCAN DESCENDING | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0 AND C2 >= 0                              

10 rows fetched.

SQL> select /*+ index_desc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0;       

C1           C2          
------------ ------------
2            0           
1            2           
0            1           

3 rows fetched.

SQL> explain select c1, c2 from t1 where c1 >= 0 and c2 >= 0 order by c1 asc, c2 asc;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0 AND C2 >= 0                              

10 rows fetched.

SQL> select c1, c2 from t1 where c1 >= 0 and c2 >= 0 order by c1 asc, c2 asc;              

C1           C2          
------------ ------------
0            1           
1            2           
2            0           

3 rows fetched.

SQL> explain select /*+ index_desc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0 order by c1 asc, c2 asc;              

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name            | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |                 |      |      |       |        |
| 1   |   QUERY SORT ORDER BY             |       |                 |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T1              |      |      |       |        |
| 3   |       INDEX RANGE SCAN DESCENDING | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: C1 >= 0 AND C2 >= 0                              

11 rows fetched.

SQL> explain select /*+ index_desc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0 group by c1, c2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name            | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |                 |      |      |       |        |
| 1   |   INDEX GROUP BY                  |       |                 |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T1              |      |      |       |        |
| 3   |       INDEX RANGE SCAN DESCENDING | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: C1 >= 0 AND C2 >= 0                              

11 rows fetched.

SQL> select /*+ index_desc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0 group by c1, c2; 

C1           C2          
------------ ------------
2            0           
1            2           
0            1           

3 rows fetched.

SQL> explain select /*+ index_asc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 0 AND C2 >= 0                              

10 rows fetched.

SQL> select /*+ index_asc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 0 and c2 >= 0;

C1           C2          
------------ ------------
0            1           
1            2           
2            0           

3 rows fetched.

SQL> explain select c1, c2 from t1 where c1 >= 1 and c2 >= 0 order by c1 desc, c2 desc;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name         | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY    | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN DESCENDING | SYS   | IDX_T1_C1_C2 |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1 AND C2 >= 0                              

10 rows fetched.

SQL> select c1, c2 from t1 where c1 >= 1 and c2 >= 0 order by c1 desc, c2 desc;

C1           C2          
------------ ------------
2            0           
1            2           

2 rows fetched.

SQL> explain select /*+ index_asc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 1 and c2 >= 0 order by c1 desc, c2 desc;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name            | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |                 |      |      |       |        |
| 1   |   QUERY SORT ORDER BY           |       |                 |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 3   |       INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: C1 >= 1 AND C2 >= 0                              

11 rows fetched.

SQL> select /*+ index_asc( t1 idx_t1_c1_c2_c3 ) */c1, c2 from t1 where c1 >= 1 and c2 >= 0 order by c1 desc, c2 desc;  

C1           C2          
------------ ------------
2            0           
1            2           

2 rows fetched.

SQL> explain select c1, c2 from t1 where c1 >= 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ no_index( t1 idx_t1_c1 ) */ c1, c2 from t1 where c1 >= 1; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ no_index( t1 idx_t1_c1 idx_t1_c1_c2 ) */ c1, c2 from t1 where c1 >= 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                 |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ no_index( t1 idx_t1_c1 idx_t1_c1_c2 idx_t1_c1_c2_c3 ) */ c1, c2 from t1 where c1 >= 1; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------
| Id  | Description          | Owner | Name | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |      |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | T1   |      |      |       |        |
----------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: C1 >= 1                                          

9 rows fetched.

SQL> select /*+ no_index( t1 idx_t1_c1 idx_t1_c1_c2 idx_t1_c1_c2_c3 ) */ c1, c2 from t1 where c1 >= 1; 

C1           C2          
------------ ------------
1            2           
2            0           

2 rows fetched.

SQL> 
SQL> ----- 2. 格式用例 -----   
SQL> explain select /*+ index( t1 idx_t1_c1_c2 ) full( t1 ) */ c1, c2 from t1 where c1 >= 1; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2 ) full( t1 ) index( t1 idx_t1_c1_c2_c3 ) */ c1, c2 from t1 where c1 >= 1;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1 ) index_desc( t1 idx_t1_c1_c2 ) index_ffs( t1 idx_t1_c1_c2_c3 ) */ c1, c2 from t1 where c1 >= 1;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> select /*+ index( t1 idx_t1_c1 ) index_desc( t1 idx_t1_c1_c2 ) index_ffs( t1 idx_t1_c1_c2_c3 ) */ c1, c2 from t1 where c1 >= 1;                

C1           C2          
------------ ------------
1            2           
2            0           

2 rows fetched.

SQL> explain select /*+ index( t1 idx_t1_c1_c2 idx_xxx idx_xxx ) */ c1, c2 from t1 where c1 >= 1;        

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ index( t1 ) */ c1, c2 from t1 where c1 >= 1;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name         | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |              |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1           |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_C1_C2 |      |      |       |        |
---------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> explain select /*+ index(t1 idx_t1_c1) index(idx_t1_c1_c2)*/ c1, c2 from t1 where c1 >= 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |           |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | IDX_T1_C1 |      |      |       |        |
-------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 >= 1                                          

10 rows fetched.

SQL> 
SQL> -----------------------------   JOIN ORDER HINT   -----------------------------------
SQL> explain select t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                             | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                        |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                          |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                        |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                      |       |           |      |      |       |        |
| 4   |         SUBSELECT                       |       | V         |      |      |       |        |
| 5   |           NESTED LOOPS                  |       |           |      |      |       |        |
| 6   |             TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 7   |               INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 8   |             TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 9   |               INDEX UNIQUE SCAN         | SYS   | IDX_T5_C1 |      |      |       |        |
| 10  |         TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |           INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
| 12  |       TABLE ACCESS BY INDEX ONLY        | SYS   | T2        |      |      |       |        |
| 13  |         INDEX UNIQUE SCAN               | SYS   | IDX_T2_C1 |      |      |       |        |
| 14  |     TABLE ACCESS BY INDEX ONLY          | SYS   | T3        |      |      |       |        |
| 15  |       INDEX UNIQUE SCAN                 | SYS   | IDX_T3_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   9 - access: T4.C1 = T5.C1                                    
   11 - access: T1.C1 = V.C1                                    
   12 - filter: T1.C1 = T2.C1                                   
   13 - access: T2.C1 = V.C1                                    
   14 - filter: T1.C1 = T3.C1 AND T2.C1 = T3.C1                 
   15 - access: T3.C1 = V.C1                                    

28 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ leading (t1 t2 t3 v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
| 10  |     SUBSELECT                       |       | V         |      |      |       |        |
| 11  |       NESTED LOOPS                  |       |           |      |      |       |        |
| 12  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 13  |           INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1 |      |      |       |        |
| 14  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 15  |           INDEX UNIQUE SCAN         | SYS   | IDX_T4_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = V.C1 AND T1.C1 = V.C1 AND T3.C1 = V.C1   
   7 - access: T1.C1 = T2.C1                                    
   8 - filter: T2.C1 = T3.C1                                    
   9 - access: T1.C1 = T3.C1                                    
   15 - access: T4.C1 = T5.C1                                   

27 rows fetched.

SQL> select /*+ leading (t1 t2 t3 v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ leading (t3 v t2 t1) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;    

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                             | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                        |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                          |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                        |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                      |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY      | SYS   | T3        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN          | SYS   | IDX_T3_C1 |      |      |       |        |
| 6   |         SUBSELECT                       |       | V         |      |      |       |        |
| 7   |           NESTED LOOPS                  |       |           |      |      |       |        |
| 8   |             TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 9   |               INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1 |      |      |       |        |
| 10  |             TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 11  |               INDEX UNIQUE SCAN         | SYS   | IDX_T4_C1 |      |      |       |        |
| 12  |       TABLE ACCESS BY INDEX ONLY        | SYS   | T2        |      |      |       |        |
| 13  |         INDEX UNIQUE SCAN               | SYS   | IDX_T2_C1 |      |      |       |        |
| 14  |     TABLE ACCESS BY INDEX ONLY          | SYS   | T1        |      |      |       |        |
| 15  |       INDEX UNIQUE SCAN                 | SYS   | IDX_T1_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: T3.C1 = V.C1                                     
       filter: T1.C1 = T3.C1 AND T2.C1 = T3.C1 AND T1.C1 = T2.C1
   11 - access: T4.C1 = T5.C1                                   
   13 - access: T2.C1 = V.C1                                    
   15 - access: T1.C1 = V.C1                                    

27 rows fetched.

SQL> select /*+ leading (t3 v t2 t1) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- leading do not support in outer join
SQL> explain select /*+ leading (t2 t3 v t1) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2 left join t3 on (t2.c1 = t3.c1 ), (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;   

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                           | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                      |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                        |       |           |      |      |       |        |
| 2   |     HASH JOIN(L)                      |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                    |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       SUBSELECT                       |       | V         |      |      |       |        |
| 9   |         NESTED LOOPS                  |       |           |      |      |       |        |
| 10  |           TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 11  |             INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1 |      |      |       |        |
| 12  |           TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 13  |             INDEX UNIQUE SCAN         | SYS   | IDX_T4_C1 |      |      |       |        |
| 14  |     TABLE ACCESS BY INDEX ONLY        | SYS   | T1        |      |      |       |        |
| 15  |       INDEX UNIQUE SCAN               | SYS   | IDX_T1_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: T2.C1 = V.C1 AND T3.C1 = V.C1                    
       filter: T1.C1 = T3.C1 AND T1.C1 = V.C1                   
   7 - access: T3.C1 = T2.C1                                    
   13 - access: T4.C1 = T5.C1                                   
   15 - access: T1.C1 = T2.C1                                   

27 rows fetched.

SQL> select /*+ leading (t2 t3 v t1) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2 left join t3 on (t2.c1 = t3.c1 ), (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1; 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                             | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                        |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                          |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                        |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                      |       |           |      |      |       |        |
| 4   |         SUBSELECT                       |       | V         |      |      |       |        |
| 5   |           NESTED LOOPS                  |       |           |      |      |       |        |
| 6   |             TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 7   |               INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 8   |             TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 9   |               INDEX UNIQUE SCAN         | SYS   | IDX_T5_C1 |      |      |       |        |
| 10  |         TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |           INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
| 12  |       TABLE ACCESS BY INDEX ONLY        | SYS   | T2        |      |      |       |        |
| 13  |         INDEX UNIQUE SCAN               | SYS   | IDX_T2_C1 |      |      |       |        |
| 14  |     TABLE ACCESS BY INDEX ONLY          | SYS   | T3        |      |      |       |        |
| 15  |       INDEX UNIQUE SCAN                 | SYS   | IDX_T3_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   9 - access: T4.C1 = T5.C1                                    
   11 - access: T1.C1 = V.C1                                    
   12 - filter: V.C1 = T2.C1                                    
   13 - access: T1.C1 = T2.C1                                   
   14 - filter: T3.C1 = V.C1 AND T1.C1 = T3.C1                  
   15 - access: T3.C1 = T2.C1                                   

28 rows fetched.

SQL> explain select /*+ leading (t3 t2 v t1) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;   

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                           | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                      |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                        |       |           |      |      |       |        |
| 2   |     HASH JOIN(L)                      |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                    |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN        | SYS   | IDX_T3_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |       SUBSELECT                       |       | V         |      |      |       |        |
| 9   |         NESTED LOOPS                  |       |           |      |      |       |        |
| 10  |           TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 11  |             INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1 |      |      |       |        |
| 12  |           TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 13  |             INDEX UNIQUE SCAN         | SYS   | IDX_T4_C1 |      |      |       |        |
| 14  |     TABLE ACCESS BY INDEX ONLY        | SYS   | T1        |      |      |       |        |
| 15  |       INDEX UNIQUE SCAN               | SYS   | IDX_T1_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: T2.C1 = V.C1 AND T3.C1 = V.C1                    
       filter: T1.C1 = V.C1 AND T1.C1 = T3.C1                   
   7 - access: T3.C1 = T2.C1                                    
   13 - access: T4.C1 = T5.C1                                   
   15 - access: T1.C1 = T2.C1                                   

27 rows fetched.

SQL> select /*+ leading (t3 t2 v t1) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4)*/ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ ordered */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ ordered */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;   

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
| 10  |     SUBSELECT                       |       | V         |      |      |       |        |
| 11  |       NESTED LOOPS                  |       |           |      |      |       |        |
| 12  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 13  |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 14  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T5        |      |      |       |        |
| 15  |           INDEX UNIQUE SCAN         | SYS   | IDX_T5_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = V.C1 AND T1.C1 = V.C1 AND T3.C1 = V.C1   
   7 - access: T1.C1 = T2.C1                                    
   8 - filter: T1.C1 = T3.C1                                    
   9 - access: T3.C1 = T2.C1                                    
   15 - access: T4.C1 = T5.C1                                   

27 rows fetched.

SQL> select /*+ ordered */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ ordered */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> 
SQL> 
SQL> -----------------------------   JOIN METHOD HINT   -----------------------------------
SQL> explain select t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> select t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> -- 未指定leading，优化器选择t1作为左表，hint失效
SQL> explain select /*+ use_nl (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ leading(t2 t1) use_nl (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T1_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> select /*+ leading(t2 t1) use_nl (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ use_nl (t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ use_nl (t1 t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> select /*+ use_nl (t1 t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> -- 未指定leading，优化器选择t1作为左表，hint失效
SQL> explain select /*+ use_merge (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;    

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ leading(t2 t1) use_merge (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;    

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   MERGE JOIN                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = T1.C1                                    

13 rows fetched.

SQL> select /*+ leading(t2 t1) use_merge (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ use_merge (t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   MERGE JOIN                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ use_merge (t1 t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   MERGE JOIN                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> select /*+ use_merge (t1 t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> -- 默认选择HASH，实际上HINT失效
SQL> explain select /*+ use_hash (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ leading(t2 t1) use_hash (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = T1.C1                                    

13 rows fetched.

SQL> select /*+ leading(t2 t1) use_hash (t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ use_hash (t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ use_hash (t1 t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> select /*+ use_hash (t1 t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ use_hash (t2) use_nl(t2) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> explain select /*+ use_hash (t2) use_hash(t2, t1) */ t1.c1, t2.c1 from t1, t2 where t1.c1 = t2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                     | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                  |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 5   |       INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T2.C1                                    

13 rows fetched.

SQL> 
SQL> -----------------------------   COMBINE HINT   -----------------------------------
SQL> explain select t1.c1, t2.c1, v.c1 from t1, t2, (select t3.c1 from t3, t4 where t3.c1 = t4.c1) v where t1.c1 = v.c1 and t2.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                           | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                      |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                        |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                      |       |           |      |      |       |        |
| 3   |       SUBSELECT                       |       | V         |      |      |       |        |
| 4   |         NESTED LOOPS                  |       |           |      |      |       |        |
| 5   |           TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 6   |             INDEX FAST FULL SCAN      | SYS   | IDX_T3_C1 |      |      |       |        |
| 7   |           TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 8   |             INDEX UNIQUE SCAN         | SYS   | IDX_T4_C1 |      |      |       |        |
| 9   |       TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 10  |         INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
| 11  |     TABLE ACCESS BY INDEX ONLY        | SYS   | T2        |      |      |       |        |
| 12  |       INDEX UNIQUE SCAN               | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - access: T3.C1 = T4.C1                                    
   10 - access: T1.C1 = V.C1                                    
   11 - filter: T1.C1 = T2.C1                                   
   12 - access: V.C1 = T2.C1                                    

23 rows fetched.

SQL> select t1.c1, t2.c1, v.c1 from t1, t2, (select t3.c1 from t3, t4 where t3.c1 = t4.c1) v where t1.c1 = v.c1 and t2.c1 = v.c1;

C1           C1           C1          
------------ ------------ ------------
0            0            0           
1            1            1           
2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ use_merge(t1 t2) */t1.c1, t2.c1, v.c1 from t1, t2, (select t3.c1 from t3, t4 where t3.c1 = t4.c1) v where t1.c1 = v.c1 and t2.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                           | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                      |       |           |      |      |       |        |
| 1   |   MERGE JOIN                          |       |           |      |      |       |        |
| 2   |     MERGE JOIN                        |       |           |      |      |       |        |
| 3   |       SUBSELECT                       |       | V         |      |      |       |        |
| 4   |         NESTED LOOPS                  |       |           |      |      |       |        |
| 5   |           TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 6   |             INDEX FAST FULL SCAN      | SYS   | IDX_T3_C1 |      |      |       |        |
| 7   |           TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 8   |             INDEX UNIQUE SCAN         | SYS   | IDX_T4_C1 |      |      |       |        |
| 9   |       TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 10  |         INDEX FAST FULL SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 11  |     TABLE ACCESS BY INDEX ONLY        | SYS   | T2        |      |      |       |        |
| 12  |       INDEX FAST FULL SCAN            | SYS   | IDX_T2_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: V.C1 = T2.C1                                     
   2 - access: V.C1 = T1.C1                                     
   8 - access: T3.C1 = T4.C1                                    
   11 - filter: T1.C1 = T2.C1                                   

23 rows fetched.

SQL> select /*+ use_merge(t1 t2) */t1.c1, t2.c1, v.c1 from t1, t2, (select t3.c1 from t3, t4 where t3.c1 = t4.c1) v where t1.c1 = v.c1 and t2.c1 = v.c1;

C1           C1           C1          
------------ ------------ ------------
0            0            0           
1            1            1           
2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_hash(t2) use_merge(t3) use_hash(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;  

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |                 |      |      |       |        |
| 1   |   HASH JOIN(L)                      |       |                 |      |      |       |        |
| 2   |     MERGE JOIN                      |       |                 |      |      |       |        |
| 3   |       HASH JOIN(L)                  |       |                 |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2              |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1_C2_C3 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3              |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T3_C1_C2_C3 |      |      |       |        |
| 10  |     SUBSELECT                       |       | V               |      |      |       |        |
| 11  |       MERGE JOIN                    |       |                 |      |      |       |        |
| 12  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T5              |      |      |       |        |
| 13  |           INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1_C2_C3 |      |      |       |        |
| 14  |         TABLE ACCESS FULL           | SYS   | T4              |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = V.C1 AND T1.C1 = V.C1 AND T3.C1 = V.C1   
   2 - access: T1.C1 = T3.C1                                    
   3 - access: T1.C1 = T2.C1                                    
       filter: T2.C1 = T3.C1                                    
   11 - access: T5.C1 = T4.C1                                   

26 rows fetched.

SQL> select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_hash(t2) use_merge(t3) use_hash(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_hash(t2) use_merge(t3) use_hash(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |                 |      |      |       |        |
| 1   |   HASH JOIN(L)                      |       |                 |      |      |       |        |
| 2   |     MERGE JOIN                      |       |                 |      |      |       |        |
| 3   |       HASH JOIN(L)                  |       |                 |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2              |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1_C2_C3 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3              |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T3_C1_C2_C3 |      |      |       |        |
| 10  |     SUBSELECT                       |       | V               |      |      |       |        |
| 11  |       MERGE JOIN                    |       |                 |      |      |       |        |
| 12  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T5              |      |      |       |        |
| 13  |           INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1_C2_C3 |      |      |       |        |
| 14  |         TABLE ACCESS FULL           | SYS   | T4              |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = V.C1 AND T1.C1 = V.C1 AND T3.C1 = V.C1   
   2 - access: T1.C1 = T3.C1                                    
   3 - access: T1.C1 = T2.C1                                    
       filter: T2.C1 = T3.C1                                    
   11 - access: T5.C1 = T4.C1                                   

26 rows fetched.

SQL> select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_hash(t2) use_merge(t3) use_hash(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_merge(t2) use_merge(t3) use_merge(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |                 |      |      |       |        |
| 1   |   MERGE JOIN                        |       |                 |      |      |       |        |
| 2   |     MERGE JOIN                      |       |                 |      |      |       |        |
| 3   |       MERGE JOIN                    |       |                 |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2              |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1_C2_C3 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3              |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T3_C1_C2_C3 |      |      |       |        |
| 10  |     SUBSELECT                       |       | V               |      |      |       |        |
| 11  |       MERGE JOIN                    |       |                 |      |      |       |        |
| 12  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T5              |      |      |       |        |
| 13  |           INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1_C2_C3 |      |      |       |        |
| 14  |         TABLE ACCESS FULL           | SYS   | T4              |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = V.C1                                     
   2 - access: T1.C1 = T3.C1                                    
   3 - access: T1.C1 = T2.C1                                    
   10 - filter: T1.C1 = V.C1 AND T3.C1 = V.C1                   
   11 - access: T5.C1 = T4.C1                                   

26 rows fetched.

SQL> select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_merge(t2) use_merge(t3) use_merge(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> explain select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_merge(t2) use_merge(t3) use_merge(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name            | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |                 |      |      |       |        |
| 1   |   MERGE JOIN                        |       |                 |      |      |       |        |
| 2   |     MERGE JOIN                      |       |                 |      |      |       |        |
| 3   |       MERGE JOIN                    |       |                 |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1              |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1_C2_C3 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2              |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1_C2_C3 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3              |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T3_C1_C2_C3 |      |      |       |        |
| 10  |     SUBSELECT                       |       | V               |      |      |       |        |
| 11  |       MERGE JOIN                    |       |                 |      |      |       |        |
| 12  |         TABLE ACCESS BY INDEX ONLY  | SYS   | T5              |      |      |       |        |
| 13  |           INDEX FAST FULL SCAN      | SYS   | IDX_T5_C1_C2_C3 |      |      |       |        |
| 14  |         TABLE ACCESS FULL           | SYS   | T4              |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = V.C1                                     
   2 - access: T1.C1 = T3.C1                                    
   3 - access: T1.C1 = T2.C1                                    
   10 - filter: T1.C1 = V.C1 AND T3.C1 = V.C1                   
   11 - access: T5.C1 = T4.C1                                   

26 rows fetched.

SQL> select /*+ leading (t1 t2 t3 v) index_ffs(t1 idx_t1_c1_c2_c3) index(t2 idx_t2_c1_c2_c3) index(t3 idx_t3_c1_c2_c3) use_merge(t2) use_merge(t3) use_merge(v) */ t1.c1, t2.c1, t3.c1, v.c1 from t1, t2, t3, (select /*+ leading (t5 t4) index_ffs(t5 idx_t5_c1_c2_c3) full(t4 idx_t5_c1_c2_c3) use_merge(t4 t5) */ t4.c1, t5.c1 c2 from t4, t5 where t4.c1 = t5.c1) v where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1 and t1.c1 = v.c1 and t2.c1 = v.c1 and t3.c1 = v.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> --------------------------------   非功能用例   -------------------------------------
SQL> -- leading冲突
SQL> explain select /*+ leading (t3) leading(t2) */ t1.c1, t2.c1, t3.c1 from t1, t2, t3 where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                    |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                  |       |           |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 6   |         INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 7   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 8   |       INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - access: T1.C1 = T2.C1                                    
   7 - filter: T1.C1 = T3.C1                                    
   8 - access: T2.C1 = T3.C1                                    

18 rows fetched.

SQL> explain select /*+ leading (t1) leading(t2) leading(t3) */ t1.c1, t2.c1, t3.c1 from t1, t2, t3 where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                    |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                  |       |           |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 6   |         INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 7   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 8   |       INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - access: T1.C1 = T2.C1                                    
   7 - filter: T1.C1 = T3.C1                                    
   8 - access: T2.C1 = T3.C1                                    

18 rows fetched.

SQL> explain select /*+ leading (t1) leading(t2) leading(t3) ordered */ t1.c1, t2.c1, t3.c1 from t1, t2, t3 where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                    |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                  |       |           |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 6   |         INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 7   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 8   |       INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - access: T1.C1 = T2.C1                                    
   7 - filter: T1.C1 = T3.C1                                    
   8 - access: T2.C1 = T3.C1                                    

18 rows fetched.

SQL> select /*+ leading (t1) leading(t2) leading(t3) ordered */ t1.c1, t2.c1, t3.c1 from t1, t2, t3 where t1.c1 = t2.c1 and t1.c1 = t3.c1 and t2.c1 = t3.c1;

C1           C1           C1          
------------ ------------ ------------
0            0            0           
1            1            1           
2            2            2           

3 rows fetched.

SQL> 
SQL> --------------------------------   HINT FORCE   -------------------------------------
SQL> show parameter hint;

NAME                                                             DATATYPE             VALUE                                                            RUNTIME_VALUE                                                    EFFECTIVE           
---------------------------------------------------------------- -------------------- ---------------------------------------------------------------- ---------------------------------------------------------------- --------------------
CBO_HINT_ENABLED                                                 CT_TYPE_BOOLEAN      TRUE                                                             TRUE                                                             immediately         
_HINT_FORCE                                                      CT_TYPE_INTEGER      0                                                                0                                                                immediately         


SQL> 
SQL> explain select  t1.c1, t2.c1, t3.c1, t4.c1 from t1, t2, t3, t4 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T3        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T3_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T4        |      |      |       |        |
| 11  |       INDEX UNIQUE SCAN             | SYS   | IDX_T4_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - access: T2.C1 = T1.C1                                    
   8 - filter: T2.C1 = T3.C1                                    
   9 - access: T3.C1 = T1.C1                                    
   10 - filter: T2.C1 = T4.C1 AND T3.C1 = T4.C1                 
   11 - access: T4.C1 = T1.C1                                   

23 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t1, t2, t3, t4 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: ORDERED
SQL> alter system set _HINT_FORCE = 1;

Succeed.

SQL> explain select t1.c1,  t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - access: T3.C1 = T4.C1                                    
   8 - filter: T2.C1 = T3.C1                                    
   9 - access: T2.C1 = T4.C1                                    
   10 - filter: T2.C1 = T1.C1 AND T4.C1 = T1.C1                 
   11 - access: T3.C1 = T1.C1                                   

23 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: USE_NL  
SQL> alter system set _HINT_FORCE = 2;

Succeed.

SQL> explain select t1.c1, t2.c1,  t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - access: T3.C1 = T4.C1                                    
   8 - filter: T2.C1 = T3.C1                                    
   9 - access: T2.C1 = T4.C1                                    
   10 - filter: T2.C1 = T1.C1 AND T4.C1 = T1.C1                 
   11 - access: T3.C1 = T1.C1                                   

23 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: USE_MERGE 
SQL> alter system set _HINT_FORCE = 4;

Succeed.

SQL> explain select t1.c1, t2.c1, t3.c1,  t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   MERGE JOIN                        |       |           |      |      |       |        |
| 2   |     MERGE JOIN                      |       |           |      |      |       |        |
| 3   |       MERGE JOIN                    |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX FAST FULL SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T3.C1 = T1.C1                                    
   2 - access: T4.C1 = T2.C1                                    
   3 - access: T4.C1 = T3.C1                                    
   10 - filter: T2.C1 = T1.C1 AND T4.C1 = T1.C1                 

22 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: USE_HASH
SQL> alter system set _HINT_FORCE = 8;

Succeed.

SQL> explain select t1.c1, t2.c1, t3.c1, t4.c1 from  t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                      |       |           |      |      |       |        |
| 2   |     HASH JOIN(L)                    |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX FAST FULL SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T3.C1 = T1.C1 AND T2.C1 = T1.C1 AND T4.C1 = T1.C1
   2 - access: T4.C1 = T2.C1 AND T3.C1 = T2.C1                  
   3 - access: T4.C1 = T3.C1                                    

21 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: ORDERED + USE_NL
SQL> alter system set _HINT_FORCE = 3;      

Succeed.

SQL> explain select t1.c1, t2.c1, t3.c1, t4.c1 from t4,  t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - access: T3.C1 = T4.C1                                    
   8 - filter: T2.C1 = T3.C1                                    
   9 - access: T2.C1 = T4.C1                                    
   10 - filter: T2.C1 = T1.C1 AND T4.C1 = T1.C1                 
   11 - access: T3.C1 = T1.C1                                   

23 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: ORDERED + USE_MERGE
SQL> alter system set _HINT_FORCE = 5; 

Succeed.

SQL> explain select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3,  t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   MERGE JOIN                        |       |           |      |      |       |        |
| 2   |     MERGE JOIN                      |       |           |      |      |       |        |
| 3   |       MERGE JOIN                    |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX FAST FULL SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T3.C1 = T1.C1                                    
   2 - access: T4.C1 = T2.C1                                    
   3 - access: T4.C1 = T3.C1                                    
   10 - filter: T2.C1 = T1.C1 AND T4.C1 = T1.C1                 

22 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- HINT FORCE: ORDERED + USE_HASH
SQL> alter system set _HINT_FORCE = 9;  

Succeed.

SQL> explain select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2,  t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                      |       |           |      |      |       |        |
| 2   |     HASH JOIN(L)                    |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX FAST FULL SCAN      | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX FAST FULL SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T3.C1 = T1.C1 AND T2.C1 = T1.C1 AND T4.C1 = T1.C1
   2 - access: T4.C1 = T2.C1 AND T3.C1 = T2.C1                  
   3 - access: T4.C1 = T3.C1                                    

21 rows fetched.

SQL> select t1.c1, t2.c1, t3.c1, t4.c1 from t4, t3, t2, t1 where t2.c1 = t3.c1 and t3.c1 = t4.c1 and t1.c1 = t4.c1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> 
SQL> -- DISABLE HINT FORCE
SQL> alter system set _HINT_FORCE = 0; 

Succeed.

SQL> 
SQL> --------------------------------   CLEAN   -------------------------------------
SQL> BEGIN
  2     FOR i IN 1..10 LOOP
  3         -- drop if exists
  4         BEGIN
  5             EXECUTE IMMEDIATE 'drop table t' || i;
  6         EXCEPTION
  7             WHEN OTHERS THEN
  8                 NULL;
  9         END;
 10     END LOOP;
 11 END;
 12 / 

PL/SQL procedure successfully completed.

SQL> 
SQL> -- DTS2018092809318
SQL> drop table if exists t1_gs_hint ;

Succeed.

SQL> create table t1_gs_hint (c1 int);

Succeed.

SQL> create index idx_t1_gs_hint_c1 on t1_gs_hint(c1);

Succeed.

SQL> BEGIN
  2     FOR i IN 1..500 LOOP
  3         BEGIN
  4             EXECUTE IMMEDIATE 'insert into t1_gs_hint values(:1) ' using i;
  5         EXCEPTION
  6             WHEN OTHERS THEN
  7                 NULL;
  8         END;
  9     END LOOP;
 10 	commit;
 11 END;
 12 /

PL/SQL procedure successfully completed.

SQL> 
SQL> drop table if exists t2_gs_hint ;

Succeed.

SQL> create table t2_gs_hint (c1 int);

Succeed.

SQL> create index idx_t2_gs_hint_c1 on t2_gs_hint(c1);

Succeed.

SQL> BEGIN
  2     FOR i IN 1..1000 LOOP
  3         BEGIN
  4             EXECUTE IMMEDIATE 'insert into t2_gs_hint values(:1) ' using i;
  5         EXCEPTION
  6             WHEN OTHERS THEN
  7                 NULL;
  8         END;
  9     END LOOP;
 10 	commit;
 11 END;
 12 /

PL/SQL procedure successfully completed.

SQL> 
SQL> explain select * from t1_gs_hint where c1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name              | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                   |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1_GS_HINT        |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_GS_HINT_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 = 1                                           

10 rows fetched.

SQL> explain select /*+ */ * from t1_gs_hint where c1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name              | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                   |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1_GS_HINT        |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_GS_HINT_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 = 1                                           

10 rows fetched.

SQL> explain select /*+*/ * from t1_gs_hint where c1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                   | Owner | Name              | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT              |       |                   |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ONLY  | SYS   | T1_GS_HINT        |      |      |       |        |
| 2   |     INDEX RANGE SCAN          | SYS   | IDX_T1_GS_HINT_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: C1 = 1                                           

10 rows fetched.

SQL> explain select /*+ full(t1_gs_hint) */ * from t1_gs_hint where c1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------
| Id  | Description          | Owner | Name       | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |            |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | T1_GS_HINT |      |      |       |        |
----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: C1 = 1                                           

9 rows fetched.

SQL> explain select /*+full(t1_gs_hint) */ * from t1_gs_hint where c1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------
| Id  | Description          | Owner | Name       | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |            |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | T1_GS_HINT |      |      |       |        |
----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: C1 = 1                                           

9 rows fetched.

SQL> explain select /*+full(t1_gs_hint)*/ * from t1_gs_hint where c1 = 1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------
| Id  | Description          | Owner | Name       | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |            |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | T1_GS_HINT |      |      |       |        |
----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: C1 = 1                                           

9 rows fetched.

SQL> explain select /*+
  2 full(t1_gs_hint)
  3 */ * from t1_gs_hint where c1 = 1;    

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------
| Id  | Description          | Owner | Name       | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |            |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | T1_GS_HINT |      |      |       |        |
----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: C1 = 1                                           

9 rows fetched.

SQL> 
SQL> explain select count(*) from t1_gs_hint a, t2_gs_hint b where a.c1 = b.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name              | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |                   |      |      |       |        |
| 1   |   AGGR                            |       |                   |      |      |       |        |
| 2   |     NESTED LOOPS                  |       |                   |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1_GS_HINT A      |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_GS_HINT_C1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2_GS_HINT B      |      |      |       |        |
| 6   |         INDEX RANGE SCAN          | SYS   | IDX_T2_GS_HINT_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - access: A.C1 = B.C1                                      

14 rows fetched.

SQL> explain select /*+use_hash(a b)*/count(*) from t1_gs_hint a, t2_gs_hint b where a.c1 = b.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name              | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |                   |      |      |       |        |
| 1   |   AGGR                            |       |                   |      |      |       |        |
| 2   |     HASH JOIN(L)                  |       |                   |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1_GS_HINT A      |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_GS_HINT_C1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2_GS_HINT B      |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T2_GS_HINT_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: A.C1 = B.C1                                      

14 rows fetched.

SQL> explain select /*+ use_hash(a b)*/count(*) from t1_gs_hint a, t2_gs_hint b where a.c1 = b.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name              | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |                   |      |      |       |        |
| 1   |   AGGR                            |       |                   |      |      |       |        |
| 2   |     HASH JOIN(L)                  |       |                   |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1_GS_HINT A      |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_GS_HINT_C1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2_GS_HINT B      |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T2_GS_HINT_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: A.C1 = B.C1                                      

14 rows fetched.

SQL> 
SQL> drop table t1_gs_hint;

Succeed.

SQL> drop table t2_gs_hint;

Succeed.

SQL> 
SQL> 
SQL> BEGIN
  2     FOR i IN 1..10 LOOP
  3         -- drop if exists
  4         BEGIN
  5             EXECUTE IMMEDIATE 'drop table if exists t' || i;
  6         EXCEPTION
  7             WHEN OTHERS THEN
  8                 NULL;
  9         END;
 10         EXECUTE IMMEDIATE 'create table t' || i || ' (c1 int, c2 int, c3 int, c4 int)';
 11         EXECUTE IMMEDIATE 'create unique index idx_t' || i || '_c1         on t' || i || '(c1)';
 12         EXECUTE IMMEDIATE 'create unique index idx_t' || i || '_c1_c2      on t' || i || '(c1, c2)';
 13         EXECUTE IMMEDIATE 'create unique index idx_t' || i || '_c1_c2_c3   on t' || i || '(c1, c2, c3)';
 14         EXECUTE IMMEDIATE 'insert into t' || i || ' values (1, 2, 3, 0)';
 15         EXECUTE IMMEDIATE 'insert into t' || i || ' values (2, 0, 1, 3)';
 16         EXECUTE IMMEDIATE 'insert into t' || i || ' values (0, 1, 2, 3)';
 17     END LOOP;
 18 END;
 19 /

PL/SQL procedure successfully completed.

SQL> 
SQL> BEGIN
  2     FOR i IN 1..10 LOOP
  3         BEGIN
  4             EXECUTE IMMEDIATE 'drop view if exists view' || i;
  5         EXCEPTION
  6             WHEN OTHERS THEN
  7                 NULL;
  8         END;
  9         EXECUTE IMMEDIATE 'create view view' || i || ' as select c1 , c2 , c3 , c4 from t' || i;
 10     END LOOP;
 11 END;
 12 /

PL/SQL procedure successfully completed.

SQL> 
SQL> explain select view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T4        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T4_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T3        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T3_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T1        |      |      |       |        |
| 11  |       INDEX UNIQUE SCAN             | SYS   | IDX_T1_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - access: T3.C1 = T4.C1                                    
   8 - filter: T2.C1 = T3.C1                                    
   9 - access: T2.C1 = T4.C1                                    
   10 - filter: T2.C1 = T1.C1 AND T4.C1 = T1.C1                 
   11 - access: T3.C1 = T1.C1                                   

23 rows fetched.

SQL> explain select  /*+ leading(view1 view2) use_nl (view2) */ view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                           | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                      |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                        |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                      |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                    |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY    | SYS   | T1        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN        | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |         VIEW                          | SYS   | VIEW2     |      |      |       |        |
| 7   |           TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 8   |             INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 9   |       TABLE ACCESS BY INDEX ONLY      | SYS   | T4        |      |      |       |        |
| 10  |         INDEX UNIQUE SCAN             | SYS   | IDX_T4_C1 |      |      |       |        |
| 11  |     TABLE ACCESS BY INDEX ONLY        | SYS   | T3        |      |      |       |        |
| 12  |       INDEX UNIQUE SCAN               | SYS   | IDX_T3_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - filter: VIEW2.C1 = T1.C1                                 
   8 - access: T2.C1 = T1.C1                                    
   9 - filter: VIEW2.C1 = T4.C1                                 
   10 - access: T4.C1 = T1.C1                                   
   11 - filter: T3.C1 = T4.C1 AND VIEW2.C1 = T3.C1              
   12 - access: T3.C1 = T1.C1                                   

25 rows fetched.

SQL> explain select  /*+ leading(view1 view2) use_merge (view2) */ view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------------
| Id  | Description                           | Owner | Name      | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                      |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                        |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                      |       |           |      |      |       |        |
| 3   |       MERGE JOIN                      |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY    | SYS   | T1        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN        | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |         VIEW                          | SYS   | VIEW2     |      |      |       |        |
| 7   |           TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 8   |             INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
| 9   |       TABLE ACCESS BY INDEX ONLY      | SYS   | T4        |      |      |       |        |
| 10  |         INDEX UNIQUE SCAN             | SYS   | IDX_T4_C1 |      |      |       |        |
| 11  |     TABLE ACCESS BY INDEX ONLY        | SYS   | T3        |      |      |       |        |
| 12  |       INDEX UNIQUE SCAN               | SYS   | IDX_T3_C1 |      |      |       |        |
--------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: T1.C1 = VIEW2.C1                                 
   9 - filter: VIEW2.C1 = T4.C1                                 
   10 - access: T4.C1 = T1.C1                                   
   11 - filter: T3.C1 = T4.C1 AND VIEW2.C1 = T3.C1              
   12 - access: T3.C1 = T1.C1                                   

24 rows fetched.

SQL> explain select /*+ leading(view1 view2) use_merge (view2) use_nl (view2) */ view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                  |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 5   |           INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T4        |      |      |       |        |
| 9   |         INDEX UNIQUE SCAN           | SYS   | IDX_T4_C1 |      |      |       |        |
| 10  |     TABLE ACCESS BY INDEX ONLY      | SYS   | T3        |      |      |       |        |
| 11  |       INDEX UNIQUE SCAN             | SYS   | IDX_T3_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - access: T2.C1 = T1.C1                                    
   8 - filter: T2.C1 = T4.C1                                    
   9 - access: T4.C1 = T1.C1                                    
   10 - filter: T3.C1 = T4.C1 AND T2.C1 = T3.C1                 
   11 - access: T3.C1 = T1.C1                                   

23 rows fetched.

SQL> explain select  /*+ leading(view1 view2) use_nl (view2) */ view1.c1, view2.c1, view3.c1 from  view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view1.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                         | Owner | Name      | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                    |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                      |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                    |       |           |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY    | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN        | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |       VIEW                          | SYS   | VIEW2     |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN         | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |     TABLE ACCESS BY INDEX ONLY      | SYS   | T3        |      |      |       |        |
| 9   |       INDEX UNIQUE SCAN             | SYS   | IDX_T3_C1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - filter: VIEW2.C1 = T1.C1                                 
   7 - access: T2.C1 = T1.C1                                    
   8 - filter: VIEW2.C1 = T3.C1                                 
   9 - access: T3.C1 = T1.C1                                    

20 rows fetched.

SQL> select view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1 order by 1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> select  /*+ leading(view1 view2) use_nl (view2) */ view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1 order by 1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> select  /*+ leading(view1 view2) use_merge (view2) */ view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1 order by 1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> select /*+ leading(view1 view2) use_merge (view2) use_nl (view2) */ view1.c1, view2.c1, view3.c1, view4.c1 from view4, view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view4.c1 and view1.c1 = view4.c1 order by 1;

C1           C1           C1           C1          
------------ ------------ ------------ ------------
0            0            0            0           
1            1            1            1           
2            2            2            2           

3 rows fetched.

SQL> select  /*+ leading(view1 view2) use_nl (view2) */ view1.c1, view2.c1, view3.c1 from  view3, view2, view1 where view2.c1 = view3.c1 and view3.c1 = view1.c1 order by 1;

C1           C1           C1          
------------ ------------ ------------
0            0            0           
1            1            1           
2            2            2           

3 rows fetched.

SQL> 
SQL> --DTS2019110804256
SQL> explain select /*+ use_hash (view1) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   NESTED LOOPS                    |       |           |      |      |       |        |
| 2   |     VIEW                          | SYS   | VIEW1     |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 6   |       INDEX UNIQUE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - access: VIEW1.C1 = T2.C1                                 

14 rows fetched.

SQL> select /*+ use_hash (view1) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     VIEW                          | SYS   | VIEW1     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = VIEW1.C1                                 

14 rows fetched.

SQL> select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain select /*+ leading(view1 view2) use_hash (view2) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T1        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN        | SYS   | IDX_T1_C1 |      |      |       |        |
| 4   |     VIEW                          | SYS   | VIEW2     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = VIEW2.C1                                 

14 rows fetched.

SQL> select /*+ leading(view1 view2) use_hash (view2) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain select /*+ use_hash (view1 view2) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     VIEW                          | SYS   | VIEW1     |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |     VIEW                          | SYS   | VIEW2     |      |      |       |        |
| 6   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |         INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: VIEW1.C1 = VIEW2.C1                              

15 rows fetched.

SQL> select /*+ use_hash (view1 view2) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain select /*+ use_hash (view2 view1) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     VIEW                          | SYS   | VIEW1     |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 4   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
| 5   |     VIEW                          | SYS   | VIEW2     |      |      |       |        |
| 6   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T2        |      |      |       |        |
| 7   |         INDEX FAST FULL SCAN      | SYS   | IDX_T2_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: VIEW1.C1 = VIEW2.C1                              

15 rows fetched.

SQL> select /*+ use_hash (view2 view1) */ view1.c1, view2.c1 from view1, view2 where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain plan for select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from (select c1,c2,c3,c4 from t1) as view1, (select c1,c2,c3,c4 from t2) as view2  where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     SUBSELECT                     |       | VIEW1     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = VIEW1.C1                                 

14 rows fetched.

SQL> select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from (select c1,c2,c3,c4 from t1) as view1, (select c1,c2,c3,c4 from t2) as view2  where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain plan for select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from (select c1,c2,c3,c4 from t1) as view1,view2  where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     SUBSELECT                     |       | VIEW1     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = VIEW1.C1                                 

14 rows fetched.

SQL> select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from (select c1,c2,c3,c4 from t1) as view1,view2  where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> explain plan for select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from view1, (select c1,c2,c3,c4 from t2) as view2  where view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                       | Owner | Name      | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                  |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                    |       |           |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ONLY    | SYS   | T2        |      |      |       |        |
| 3   |       INDEX FAST FULL SCAN        | SYS   | IDX_T2_C1 |      |      |       |        |
| 4   |     VIEW                          | SYS   | VIEW1     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ONLY  | SYS   | T1        |      |      |       |        |
| 6   |         INDEX FAST FULL SCAN      | SYS   | IDX_T1_C1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T2.C1 = VIEW1.C1                                 

14 rows fetched.

SQL> select /*+ leading(view2 view1) use_hash (view1) */ view1.c1, view2.c1 from view1, (select c1,c2,c3,c4 from t2) as view2  where view1.c1 = view2.c1;

C1           C1          
------------ ------------
0            0           
1            1           
2            2           

3 rows fetched.

SQL> 
SQL> 
SQL> --use_hash support outer join
SQL> explain plan for select /*+use_hash (view2)*/ * from view1 left join view2 on view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------
| Id  | Description              | Owner | Name  | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------
| 0   | SELECT STATEMENT         |       |       |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)     |       |       |      |      |       |        |
| 2   |     TABLE ACCESS FULL    | SYS   | T1    |      |      |       |        |
| 3   |     VIEW                 | SYS   | VIEW2 |      |      |       |        |
| 4   |       TABLE ACCESS FULL  | SYS   | T2    |      |      |       |        |
---------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = VIEW2.C1                                 

12 rows fetched.

SQL> explain plan for select /*+use_hash(view3)*/ * from (view1 inner join view2 on view1.c1 = view2.c1 ) left join view3 on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)               |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |     VIEW                           | SYS   | VIEW3     |      |      |       |        |
| 7   |       TABLE ACCESS FULL            | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = VIEW3.C1                                 
   5 - access: T1.C1 = T2.C1                                    

16 rows fetched.

SQL> explain plan for select /*+use_hash(view3) use_nl(view1, view2)*/ * from (view1 inner join view2 on view1.c1 = view2.c1 ) left join view3 on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |           |      |      |       |        |
| 3   |       VIEW                           | SYS   | VIEW1     |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 5   |       VIEW                           | SYS   | VIEW2     |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |     VIEW                             | SYS   | VIEW3     |      |      |       |        |
| 9   |       TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: VIEW1.C1 = VIEW3.C1                              
   5 - filter: VIEW1.C1 = VIEW2.C1                              
   7 - access: T2.C1 = VIEW1.C1                                 

19 rows fetched.

SQL> explain plan for select /*+use_hash(view3) use_hash(view2) leading(view1)*/ * from (view1 inner join view2 on view1.c1 = view2.c1 ) left join view3 on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------
| Id  | Description                | Owner | Name  | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |       |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)       |       |       |      |      |       |        |
| 2   |     HASH JOIN(L)           |       |       |      |      |       |        |
| 3   |       TABLE ACCESS FULL    | SYS   | T1    |      |      |       |        |
| 4   |       VIEW                 | SYS   | VIEW2 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T2    |      |      |       |        |
| 6   |     VIEW                   | SYS   | VIEW3 |      |      |       |        |
| 7   |       TABLE ACCESS FULL    | SYS   | T3    |      |      |       |        |
-----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = VIEW3.C1                                 
   2 - access: T1.C1 = VIEW2.C1                                 

16 rows fetched.

SQL> explain plan for select /*+use_hash(view3)*/ * from (view1 inner join view2 on view1.c1 = view2.c1 ) left join (view3 inner join view4 on view3.c1 = view4.c1) on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)               |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 7   |       VIEW                         | SYS   | VIEW3     |      |      |       |        |
| 8   |         TABLE ACCESS FULL          | SYS   | T3        |      |      |       |        |
| 9   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T4        |      |      |       |        |
| 10  |         INDEX UNIQUE SCAN          | SYS   | IDX_T4_C1 |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = VIEW3.C1                                 
   5 - access: T1.C1 = T2.C1                                    
   10 - access: VIEW3.C1 = T4.C1                                

20 rows fetched.

SQL> explain plan for select /*+use_hash(view3), use_hash(view1) leading(view2)*/ * from (view1 inner join view2 on view1.c1 = view2.c1 ) left join view3 on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------
| Id  | Description                | Owner | Name  | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |       |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)       |       |       |      |      |       |        |
| 2   |     HASH JOIN(L)           |       |       |      |      |       |        |
| 3   |       TABLE ACCESS FULL    | SYS   | T2    |      |      |       |        |
| 4   |       VIEW                 | SYS   | VIEW1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T1    |      |      |       |        |
| 6   |     VIEW                   | SYS   | VIEW3 |      |      |       |        |
| 7   |       TABLE ACCESS FULL    | SYS   | T3    |      |      |       |        |
-----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: VIEW1.C1 = VIEW3.C1                              
   2 - access: T2.C1 = VIEW1.C1                                 

16 rows fetched.

SQL> explain plan for select /*+use_hash(view3) leading(view4)*/ * from (view1 inner join view2 on view1.c1 = view2.c1 ) left join (view3 inner join view4 on view3.c1 = view4.c1) on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)               |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |     HASH JOIN(L)                   |       |           |      |      |       |        |
| 7   |       TABLE ACCESS FULL            | SYS   | T4        |      |      |       |        |
| 8   |       VIEW                         | SYS   | VIEW3     |      |      |       |        |
| 9   |         TABLE ACCESS FULL          | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = VIEW3.C1                                 
   5 - access: T1.C1 = T2.C1                                    
   6 - access: T4.C1 = VIEW3.C1                                 

19 rows fetched.

SQL> explain plan for select /*+use_hash(view4)*/ * from (view1 left join view2 on view1.c1 = view2.c1 ) inner join (view3 left join view4 on view3.c1 = view4.c1) on view1.c1 = view3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN(L)                     |       |           |      |      |       |        |
| 2   |     NESTED LOOPS OUTER             |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |     HASH JOIN OUTER(R)             |       |           |      |      |       |        |
| 7   |       TABLE ACCESS FULL            | SYS   | T3        |      |      |       |        |
| 8   |       VIEW                         | SYS   | VIEW4     |      |      |       |        |
| 9   |         TABLE ACCESS FULL          | SYS   | T4        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   5 - access: T1.C1 = T2.C1                                    
   6 - access: T3.C1 = VIEW4.C1                                 

19 rows fetched.

SQL> explain plan for select /*+use_hash(view3) use_hash(view2)*/ * from view1 left join view2 on view1.c1 = view2.c1 left join view3 on view1.c2 = view3.c2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------
| Id  | Description                | Owner | Name  | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |       |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)       |       |       |      |      |       |        |
| 2   |     HASH JOIN OUTER(R)     |       |       |      |      |       |        |
| 3   |       TABLE ACCESS FULL    | SYS   | T1    |      |      |       |        |
| 4   |       VIEW                 | SYS   | VIEW2 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T2    |      |      |       |        |
| 6   |     VIEW                   | SYS   | VIEW3 |      |      |       |        |
| 7   |       TABLE ACCESS FULL    | SYS   | T3    |      |      |       |        |
-----------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C2 = VIEW3.C2                                 
   2 - access: T1.C1 = VIEW2.C1                                 

16 rows fetched.

SQL> explain plan for select /*+use_hash(view3) use_nl(view1, view2)*/ * from view1 left join view2 on view1.c1 = view2.c1 left join view3 on view1.c2 = view3.c2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |           |      |      |       |        |
| 2   |     NESTED LOOPS OUTER               |       |           |      |      |       |        |
| 3   |       VIEW                           | SYS   | VIEW1     |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 5   |       VIEW                           | SYS   | VIEW2     |      |      |       |        |
| 6   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 7   |           INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
| 8   |     VIEW                             | SYS   | VIEW3     |      |      |       |        |
| 9   |       TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: VIEW1.C2 = VIEW3.C2                              
   5 - filter: VIEW1.C1 = VIEW2.C1                              
   7 - access: T2.C1 = VIEW1.C1                                 

19 rows fetched.

SQL> explain plan for select /*+use_hash (view1, view2)*/ * from view1 left join view2 on view1.c1 > view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   NESTED LOOPS OUTER               |       |           |      |      |       |        |
| 2   |     VIEW                           | SYS   | VIEW1     |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 4   |     VIEW                           | SYS   | VIEW2     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 6   |         INDEX RANGE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   4 - filter: VIEW1.C1 > VIEW2.C1                              
   6 - access: VIEW1.C1 > T2.C1                                 

15 rows fetched.

SQL> 
SQL> explain plan for select /*+use_hash(t3) leading(t2, t1)*/ * from (t1 inner join t2 on t1.c1 = t2.c1) left join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)               |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T2        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |     TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   5 - access: T1.C1 = T2.C1                                    

15 rows fetched.

SQL> explain plan for select /*+use_hash(t3) leading(t2, t1)*/ * from (t1 inner join t2 on t1.c1 = t2.c1) full join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN FULL(L)                |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T2        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |     TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   5 - access: T1.C1 = T2.C1                                    

15 rows fetched.

SQL> explain plan for select /*+use_nl(t3) leading(t2, t1)*/ * from (t1 inner join t2 on t1.c1 = t2.c1) full join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   NESTED LOOPS FULL                |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T2        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |     TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: T1.C1 = T2.C1                                    
   6 - filter: T1.C1 = T3.C1                                    

15 rows fetched.

SQL> 
SQL> explain plan for select /*+use_hash(t3) leading(t2,t4,t1)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t4 on t1.c1 = t4.c1) left join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)               |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                 |       |           |      |      |       |        |
| 4   |         TABLE ACCESS FULL          | SYS   | T2        |      |      |       |        |
| 5   |         TABLE ACCESS FULL          | SYS   | T4        |      |      |       |        |
| 6   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 7   |         INDEX UNIQUE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 8   |     TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   4 - filter: T2.C2 > 10                                       
   6 - filter: T1.C1 = T2.C1 AND T2.C2 > 10                     
   7 - access: T1.C1 = T4.C1                                    

19 rows fetched.

SQL> explain plan for select /*+use_hash(t3) leading(t4,t2,t1)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t4 on t1.c1 = t4.c1) left join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)               |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       NESTED LOOPS                 |       |           |      |      |       |        |
| 4   |         TABLE ACCESS FULL          | SYS   | T4        |      |      |       |        |
| 5   |         TABLE ACCESS FULL          | SYS   | T2        |      |      |       |        |
| 6   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 7   |         INDEX UNIQUE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 8   |     TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   5 - filter: T2.C2 > 10                                       
   6 - filter: T1.C1 = T2.C1 AND T2.C2 > 10                     
   7 - access: T1.C1 = T4.C1                                    

19 rows fetched.

SQL> explain plan for select * from (t1 inner join t2 on t1.c2 = t2.c2 and t2.c1 > 10 inner join t4 on t1.c1 = t4.c1) left join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |           |      |      |       |        |
| 1   |   NESTED LOOPS OUTER                 |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                   |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |         TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T4        |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T4_C1 |      |      |       |        |
| 9   |     TABLE ACCESS BY INDEX ROWID      | SYS   | T3        |      |      |       |        |
| 10  |       INDEX UNIQUE SCAN              | SYS   | IDX_T3_C1 |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: T2.C2 = T1.C2                                    
   5 - access: T2.C1 > 10                                       
   8 - access: T1.C1 = T4.C1                                    
   10 - access: T1.C1 = T3.C1                                   

21 rows fetched.

SQL> explain plan for select /*+leading(t5,t4)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t3 on t1.c1 = t3.c1) left join (t4 inner join t5 on t4.c1 = t5.c1) on t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |              |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |              |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 3   |       NESTED LOOPS                   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1           |      |      |       |        |
| 5   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2           |      |      |       |        |
| 6   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1_C2 |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T3           |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T3_C1    |      |      |       |        |
| 9   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 10  |       TABLE ACCESS FULL              | SYS   | T5           |      |      |       |        |
| 11  |       TABLE ACCESS BY INDEX ROWID    | SYS   | T4           |      |      |       |        |
| 12  |         INDEX UNIQUE SCAN            | SYS   | IDX_T4_C1    |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T4.C1                                    
   6 - access: T1.C1 = T2.C1 AND T2.C2 > 10                     
   7 - filter: T2.C2 > 10                                       
   8 - access: T1.C1 = T3.C1                                    
   12 - access: T4.C1 = T5.C1                                   

24 rows fetched.

SQL> explain plan for select /*+use_hash(t3) ordered*/ * from (t1 inner join t2 on t1.c2 = t2.c2 and t2.c1 > 10 inner join t4 on t1.c1 = t4.c1) left join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                   |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |         TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T4        |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T4_C1 |      |      |       |        |
| 9   |     TABLE ACCESS FULL                | SYS   | T3        |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   3 - access: T2.C2 = T1.C2                                    
   5 - access: T2.C1 > 10                                       
   8 - access: T1.C1 = T4.C1                                    

20 rows fetched.

SQL> --hint invalid
SQL> explain plan for select /*+leading(t3,t1,t2) leading(t5,t4)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t3 on t1.c1 = t3.c1) left join (t4 inner join t5 on t4.c1 = t5.c1) on t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |              |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |              |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 3   |       NESTED LOOPS                   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1           |      |      |       |        |
| 5   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2           |      |      |       |        |
| 6   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1_C2 |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T3           |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T3_C1    |      |      |       |        |
| 9   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 10  |       TABLE ACCESS FULL              | SYS   | T4           |      |      |       |        |
| 11  |       TABLE ACCESS BY INDEX ROWID    | SYS   | T5           |      |      |       |        |
| 12  |         INDEX UNIQUE SCAN            | SYS   | IDX_T5_C1    |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T4.C1                                    
   6 - access: T1.C1 = T2.C1 AND T2.C2 > 10                     
   7 - filter: T2.C2 > 10                                       
   8 - access: T1.C1 = T3.C1                                    
   12 - access: T4.C1 = T5.C1                                   

24 rows fetched.

SQL> explain plan for select /*+use_nl(t3,t4)leading(t5,t4)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t3 on t1.c1 = t3.c1) left join (t4 inner join t5 on t4.c1 = t5.c1) on t1.c1 = t4.c1 ;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |              |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |              |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 3   |       NESTED LOOPS                   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1           |      |      |       |        |
| 5   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2           |      |      |       |        |
| 6   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1_C2 |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T3           |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T3_C1    |      |      |       |        |
| 9   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 10  |       TABLE ACCESS FULL              | SYS   | T5           |      |      |       |        |
| 11  |       TABLE ACCESS BY INDEX ROWID    | SYS   | T4           |      |      |       |        |
| 12  |         INDEX UNIQUE SCAN            | SYS   | IDX_T4_C1    |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T4.C1                                    
   6 - access: T1.C1 = T2.C1 AND T2.C2 > 10                     
   7 - filter: T2.C2 > 10                                       
   8 - access: T1.C1 = T3.C1                                    
   12 - access: T4.C1 = T5.C1                                   

24 rows fetched.

SQL> explain plan for select /*+use_hash(t3, t4) leading(t5,t4)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t3 on t1.c1 = t3.c1) left join t4 on t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |              |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |              |      |      |       |        |
| 2   |     HASH JOIN(L)                     |       |              |      |      |       |        |
| 3   |       NESTED LOOPS                   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1           |      |      |       |        |
| 5   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2           |      |      |       |        |
| 6   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1_C2 |      |      |       |        |
| 7   |       TABLE ACCESS FULL              | SYS   | T3           |      |      |       |        |
| 8   |     TABLE ACCESS FULL                | SYS   | T4           |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T4.C1                                    
   2 - access: T1.C1 = T3.C1                                    
   6 - access: T1.C1 = T2.C1 AND T2.C2 > 10                     

18 rows fetched.

SQL> explain plan for select /*+use_merge(t3) leading(t2, t1)*/ * from (t1 inner join t2 on t1.c1 = t2.c1) full join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   HASH JOIN FULL(L)                |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |           |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T2        |      |      |       |        |
| 4   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T1        |      |      |       |        |
| 5   |         INDEX UNIQUE SCAN          | SYS   | IDX_T1_C1 |      |      |       |        |
| 6   |     TABLE ACCESS FULL              | SYS   | T3        |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T3.C1                                    
   5 - access: T1.C1 = T2.C1                                    

15 rows fetched.

SQL> explain plan for select /*+use_merge(view1, view2)*/ * from view1 left join view2 on view1.c1 = view2.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-----------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name      | Rows | Cost | Bytes | Remark |
-----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |           |      |      |       |        |
| 1   |   NESTED LOOPS OUTER               |       |           |      |      |       |        |
| 2   |     VIEW                           | SYS   | VIEW1     |      |      |       |        |
| 3   |       TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 4   |     VIEW                           | SYS   | VIEW2     |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 6   |         INDEX UNIQUE SCAN          | SYS   | IDX_T2_C1 |      |      |       |        |
-----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   4 - filter: VIEW1.C1 = VIEW2.C1                              
   6 - access: T2.C1 = VIEW1.C1                                 

15 rows fetched.

SQL> explain plan for select /*+ordered*/ * from (t1 inner join t2 on t1.c2 = t2.c2 and t2.c1 > 10 inner join t3 on t1.c1 = t3.c1) left join (t4 inner join t5 on t4.c2 = t5.c2 and t5.c1 > 10) on t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |           |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                   |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |         TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T3        |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T3_C1 |      |      |       |        |
| 9   |     HASH JOIN(L)                     |       |           |      |      |       |        |
| 10  |       TABLE ACCESS BY INDEX ROWID    | SYS   | T5        |      |      |       |        |
| 11  |         INDEX RANGE SCAN             | SYS   | IDX_T5_C1 |      |      |       |        |
| 12  |       TABLE ACCESS FULL              | SYS   | T4        |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T4.C1                                    
   3 - access: T2.C2 = T1.C2                                    
   5 - access: T2.C1 > 10                                       
   8 - access: T1.C1 = T3.C1                                    
   9 - access: T5.C2 = T4.C2                                    
   11 - access: T5.C1 > 10                                      

25 rows fetched.

SQL> explain plan for select /*+ordered*/ * from (t1 inner join t2 on t1.c2 = t2.c2 and t2.c1 > 10 inner join t4 on t1.c1 = t4.c1) left join t3 on t1.c1 = t3.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name      | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |           |      |      |       |        |
| 1   |   NESTED LOOPS OUTER                 |       |           |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |           |      |      |       |        |
| 3   |       HASH JOIN(L)                   |       |           |      |      |       |        |
| 4   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2        |      |      |       |        |
| 5   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1 |      |      |       |        |
| 6   |         TABLE ACCESS FULL            | SYS   | T1        |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T4        |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T4_C1 |      |      |       |        |
| 9   |     TABLE ACCESS BY INDEX ROWID      | SYS   | T3        |      |      |       |        |
| 10  |       INDEX UNIQUE SCAN              | SYS   | IDX_T3_C1 |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - access: T2.C2 = T1.C2                                    
   5 - access: T2.C1 > 10                                       
   8 - access: T1.C1 = T4.C1                                    
   10 - access: T1.C1 = T3.C1                                   

21 rows fetched.

SQL> explain plan for select /*+leading(t3,t5,t4)*/ * from (t1 inner join t2 on t1.c1 = t2.c1 and t2.c2 > 10 inner join t3 on t1.c1 = t3.c1) left join (t4 inner join t5 on t4.c1 = t5.c1) on t1.c1 = t4.c1;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
| Id  | Description                          | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                     |       |              |      |      |       |        |
| 1   |   HASH JOIN OUTER(R)                 |       |              |      |      |       |        |
| 2   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 3   |       NESTED LOOPS                   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL            | SYS   | T1           |      |      |       |        |
| 5   |         TABLE ACCESS BY INDEX ROWID  | SYS   | T2           |      |      |       |        |
| 6   |           INDEX RANGE SCAN           | SYS   | IDX_T2_C1_C2 |      |      |       |        |
| 7   |       TABLE ACCESS BY INDEX ROWID    | SYS   | T3           |      |      |       |        |
| 8   |         INDEX UNIQUE SCAN            | SYS   | IDX_T3_C1    |      |      |       |        |
| 9   |     NESTED LOOPS                     |       |              |      |      |       |        |
| 10  |       TABLE ACCESS FULL              | SYS   | T4           |      |      |       |        |
| 11  |       TABLE ACCESS BY INDEX ROWID    | SYS   | T5           |      |      |       |        |
| 12  |         INDEX UNIQUE SCAN            | SYS   | IDX_T5_C1    |      |      |       |        |
----------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: T1.C1 = T4.C1                                    
   6 - access: T1.C1 = T2.C1 AND T2.C2 > 10                     
   7 - filter: T2.C2 > 10                                       
   8 - access: T1.C1 = T3.C1                                    
   12 - access: T4.C1 = T5.C1                                   

24 rows fetched.

SQL> BEGIN
  2     FOR i IN 1..10 LOOP
  3         -- drop if exists
  4         BEGIN
  5             EXECUTE IMMEDIATE 'drop table if exists t' || i;
  6         EXCEPTION
  7             WHEN OTHERS THEN
  8                 NULL;
  9         END;
 10     END LOOP;
 11 END;
 12 /

PL/SQL procedure successfully completed.

SQL> 
SQL> --DTS2020011606772
SQL> drop table if exists hbh1;

Succeed.

SQL> drop table if exists hbh2;

Succeed.

SQL> CREATE TABLE hbh1(id1 INT, id2 INT, id3 int);

Succeed.

SQL> CREATE TABLE hbh2(id4 INT, id5 INT, id6 int);

Succeed.

SQL> create index hbh1_idx_1 on hbh1(id1);

Succeed.

SQL> create index hbh1_idx_2 on hbh1(id2);

Succeed.

SQL> create index hbh2_idx_4 on hbh2(id4);

Succeed.

SQL> create index hbh2_idx_5 on hbh2(id5);

Succeed.

SQL> explain update hbh1,hbh2 set id3 = 3 where id1 = id4;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name       | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | UPDATE STATEMENT                 |       |            |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |            |      |      |       |        |
| 2   |     TABLE ACCESS FULL            | SYS   | HBH1       |      |      |       |        |
| 3   |     TABLE ACCESS BY INDEX ROWID  | SYS   | HBH2       |      |      |       |        |
| 4   |       INDEX RANGE SCAN           | SYS   | HBH2_IDX_4 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   4 - access: ID1 = ID4                                        

12 rows fetched.

SQL> explain update /*+ index(hbh2 hbh2_idx_5)*/ hbh1,hbh2 set id3 = 3 where id1 =id4;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name       | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | UPDATE STATEMENT                 |       |            |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |            |      |      |       |        |
| 2   |     TABLE ACCESS BY INDEX ROWID  | SYS   | HBH2       |      |      |       |        |
| 3   |       INDEX FULL SCAN            | SYS   | HBH2_IDX_5 |      |      |       |        |
| 4   |     TABLE ACCESS BY INDEX ROWID  | SYS   | HBH1       |      |      |       |        |
| 5   |       INDEX RANGE SCAN           | SYS   | HBH1_IDX_1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   5 - access: ID1 = ID4                                        

13 rows fetched.

SQL> explain delete from hbh1 where id1 =2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name       | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | DELETE STATEMENT               |       |            |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | HBH1       |      |      |       |        |
| 2   |     INDEX RANGE SCAN           | SYS   | HBH1_IDX_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   2 - access: ID1 = 2                                          

10 rows fetched.

SQL> explain delete /*+ index(hbh1 hbh1_idx_2)*/ from hbh1 where id1 =2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name       | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | DELETE STATEMENT               |       |            |      |      |       |        |
| 1   |   TABLE ACCESS BY INDEX ROWID  | SYS   | HBH1       |      |      |       |        |
| 2   |     INDEX FULL SCAN            | SYS   | HBH1_IDX_2 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - filter: ID1 = 2                                          

10 rows fetched.

SQL> drop table hbh1;

Succeed.

SQL> drop table hbh2;

Succeed.

SQL> --code coverage
SQL> drop table if exists t_cnct_1;

Succeed.

SQL> drop table if exists t_cnct_2;

Succeed.

SQL> create table t_cnct_1 (a int, b int);

Succeed.

SQL> insert into t_cnct_1 values(1, 2);

1 rows affected.

SQL> create index ind_cnct_a1 on t_cnct_1(a);

Succeed.

SQL> create index ind_cnct_b1 on t_cnct_1(b);

Succeed.

SQL> commit;

Succeed.

SQL> create table t_cnct_2 (a int, b int);

Succeed.

SQL> insert into t_cnct_2 values(1, 2);

1 rows affected.

SQL> commit;

Succeed.

SQL>
SQL> --sql_adjust_join_plan_with_2_cnct
SQL> select * from t_cnct_1 t1 join t_cnct_1 t2 where (t1.a = 1 or t1.b = 2) and (t2.a = 1 or t2.b = 2);

A            B            A            B
------------ ------------ ------------ ------------
1            2            1            2

1 rows fetched.

SQL> explain select * from t_cnct_1 t1 join t_cnct_1 t2 where (t1.a = 1 or t1.b = 2) and (t2.a = 1 or t2.b = 2);

EXPLAIN PLAN OUTPUT
----------------------------------------------------------------
-------------------------------------------------------------------------------------------------
| Id  | Description                        | Owner | Name        | Rows | Cost | Bytes | Remark |
-------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                   |       |             |      |      |       |        |
| 1   |   CONCATENATION                    |       |             |      |      |       |        |
| 2   |     NESTED LOOPS                   |       |             |      |      |       |        |
| 3   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T1 |      |      |       |        |
| 4   |         INDEX RANGE SCAN           | SYS   | IND_CNCT_A1 |      |      |       |        |
| 5   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T2 |      |      |       |        |
| 6   |         INDEX RANGE SCAN           | SYS   | IND_CNCT_A1 |      |      |       |        |
| 7   |     NESTED LOOPS                   |       |             |      |      |       |        |
| 8   |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T1 |      |      |       |        |
| 9   |         INDEX RANGE SCAN           | SYS   | IND_CNCT_A1 |      |      |       |        |
| 10  |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T2 |      |      |       |        |
| 11  |         INDEX RANGE SCAN           | SYS   | IND_CNCT_B1 |      |      |       |        |
| 12  |     NESTED LOOPS                   |       |             |      |      |       |        |
| 13  |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T1 |      |      |       |        |
| 14  |         INDEX RANGE SCAN           | SYS   | IND_CNCT_B1 |      |      |       |        |
| 15  |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T2 |      |      |       |        |
| 16  |         INDEX RANGE SCAN           | SYS   | IND_CNCT_A1 |      |      |       |        |
| 17  |     NESTED LOOPS                   |       |             |      |      |       |        |
| 18  |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T1 |      |      |       |        |
| 19  |         INDEX RANGE SCAN           | SYS   | IND_CNCT_B1 |      |      |       |        |
| 20  |       TABLE ACCESS BY INDEX ROWID  | SYS   | T_CNCT_1 T2 |      |      |       |        |
| 21  |         INDEX RANGE SCAN           | SYS   | IND_CNCT_B1 |      |      |       |        |
-------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   3 - filter: T1.A = 1 OR T1.B = 2                             
   4 - access: T1.A = 1                                         
   5 - filter: T2.A = 1 OR T2.B = 2                             
   6 - access: T2.A = 1                                         
   8 - filter: T1.A = 1 OR T1.B = 2                             
   9 - access: T1.A = 1                                         
   10 - filter: T2.A = 1 OR T2.B = 2                            
   11 - access: T2.B = 2                                        
   13 - filter: T1.A = 1 OR T1.B = 2                            
   14 - access: T1.B = 2                                        
   15 - filter: T2.A = 1 OR T2.B = 2                            
   16 - access: T2.A = 1                                        
   18 - filter: T1.A = 1 OR T1.B = 2                            
   19 - access: T1.B = 2                                        
   20 - filter: T2.A = 1 OR T2.B = 2                            
   21 - access: T2.B = 2                                        

44 rows fetched.

SQL> --sql_rebuild_ssa_in_case_when、sql_rebuild_ssa_in_node、sql_rebuild_ssa_in_expr
SQL> select * from t_cnct_1 t
  2    where exists (select a from t_cnct_1 where a + b in (select count(a) from t_cnct_1 where rownum < 5)
  3                     and t.a in (select count(a) from t_cnct_1 group by a)
  4                     and case when b = 2 then b else null end in (select b from t_cnct_1 limit 1));

A            B
------------ ------------

0 rows fetched.

SQL> --sql_verify_column_value
SQL> select column_value from t_cnct_1  ;

CT-00601, [1:8]Sql syntax error: invalid table alias ''
SQL> --sql_hint_string2text
SQL> select /*+ index('t' ind_cnct_b1) */ * from t_cnct_1 t where a = 1;

A            B
------------ ------------
1            2

1 rows fetched.

SQL> --transform_group_expr_node
SQL> select (select a from (select t.a from t_cnct_1) where  t.a = a) as a from t_cnct_1 as t group by a ;

A
------------
1

1 rows fetched.

SQL> select count(*) from (select (select rowid from (select t.rowid from t_cnct_1) where  t.rowid = rowid) as a from t_cnct_1 as t group by rowid );

COUNT(*)
--------------------
1

1 rows fetched.

SQL> --modify_group_node_info
SQL> select (select a from t_cnct_1 s where a = (select count(a) from t_cnct_1 where t.a = s.a) ) as a from t_cnct_1 as t group by a ;

A
------------
1

1 rows fetched.

SQL> select (select a from t_cnct_1 s where a = (select count(a) from t_cnct_1 where t.rowid = s.rowid) ) as a from t_cnct_1 as t group by rowid ;

A
------------
1

1 rows fetched.

SQL> --modify_child_node_4_tab
SQL> select (SELECT count(*) FROM (SELECT a, b FROM t_cnct_1 where t.a = 1) t0 LEFT JOIN  t_cnct_2 t1 on t0.a = t1.a where t0.b = 2 ) from t_cnct_1 t group by t.a;

(SELECT COUNT(*) FROM (SELECT A, B FROM T_CNCT_1 WHERE T.A = 1)
----------------------------------------------------------------
1

1 rows fetched.

SQL> select (SELECT count(*) FROM (SELECT a, b FROM t_cnct_1 where t.rowid is not null) t0 LEFT JOIN  t_cnct_2 t1 on t0.a = t1.a where t0.b = 2 ) from t_cnct_1 t group by t.rowid;

(SELECT COUNT(*) FROM (SELECT A, B FROM T_CNCT_1 WHERE T.ROWID I
----------------------------------------------------------------
1

1 rows fetched.

SQL> --modify_node_4_group
SQL> select (select  min(t1.a) from t_cnct_1 t1, t_cnct_2 t2 where t.b = t1.b group by t1.a) from t_cnct_1 t group by t.a, t.b;

(SELECT  MIN(T1.A) FROM T_CNCT_1 T1, T_CNCT_2 T2 WHERE T.B = T1.
----------------------------------------------------------------
1

1 rows fetched.

SQL> select (select  min(t1.a) from t_cnct_1 t1, t_cnct_2 t2 where t.rowid = t1.b group by t1.a) from t_cnct_1 t group by t.a, t.rowid;

(SELECT  MIN(T1.A) FROM T_CNCT_1 T1, T_CNCT_2 T2 WHERE T.ROWID =
----------------------------------------------------------------


1 rows fetched.

SQL> drop table t_cnct_1;

Succeed.

SQL> drop table t_cnct_2;

Succeed.

SQL> 
SQL> 
SQL> drop table if exists t_in_minus_1;

Succeed.

SQL> drop table if exists t_in_minus_2;

Succeed.

SQL> create table t_in_minus_1(f_int1 int, f_int2 int);

Succeed.

SQL> create table t_in_minus_2(f_int1 int, f_int2 int);

Succeed.

SQL> insert into t_in_minus_1 values(1, 11);

1 rows affected.

SQL> insert into t_in_minus_1 values(3, 332);

1 rows affected.

SQL> insert into t_in_minus_1 values(1, 11);

1 rows affected.

SQL> insert into t_in_minus_1 values(3, 33);

1 rows affected.

SQL> insert into t_in_minus_1 values(2, 22);

1 rows affected.

SQL> insert into t_in_minus_1 values(3, 33);

1 rows affected.

SQL> insert into t_in_minus_1 values(1, 11);

1 rows affected.

SQL> insert into t_in_minus_1 values(5, 55);

1 rows affected.

SQL> insert into t_in_minus_2 values(2, 22);

1 rows affected.

SQL> insert into t_in_minus_2 values(4, 44);

1 rows affected.

SQL> insert into t_in_minus_2 values(2, 22);

1 rows affected.

SQL> insert into t_in_minus_2 values(4, 44);

1 rows affected.

SQL> insert into t_in_minus_2 values(5, 54);

1 rows affected.

SQL> insert into t_in_minus_2 values(5, 55);

1 rows affected.

SQL> insert into t_in_minus_2 values(6, 66);

1 rows affected.

SQL> insert into t_in_minus_1 values(2, 22);

1 rows affected.

SQL> insert into t_in_minus_2 values(2, 22);

1 rows affected.

SQL> commit;

Succeed.

SQL> 
SQL> explain select * from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)        |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH MINUS           |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)        |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH EXCEPT ALL      |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   NESTED LOOPS             |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH MINUS           |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - filter: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                 |       |              |      |      |       |        |
| 2   |     SUBSELECT                  |       |              |      |      |       |        |
| 3   |       HASH DISTINCT            |       |              |      |      |       |        |
| 4   |         SUBSELECT              |       |              |      |      |       |        |
| 5   |           HASH EXCEPT ALL      |       |              |      |      |       |        |
| 6   |             TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 7   |             TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL          | SYS   | T_IN_MINUS_1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2) except select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH MINUS             |       |              |      |      |       |        |
| 4   |         HASH MINUS           |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2) except select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH MINUS             |       |              |      |      |       |        |
| 4   |         HASH MINUS           |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> -- complex except all
SQL> explain select distinct f_int1, f_int2 from t_in_minus_1 except all select f_int1, f_int2 from t_in_minus_2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------
| Id  | Description              | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT         |       |              |      |      |       |        |
| 1   |   HASH EXCEPT ALL        |       |              |      |      |       |        |
| 2   |     HASH DISTINCT        |       |              |      |      |       |        |
| 3   |       TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 4   |     TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
----------------------------------------------------------------------------------------

9 rows fetched.

SQL> explain select distinct * from (select f_int1, f_int2 from t_in_minus_1 except all select f_int1, f_int2 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   HASH DISTINCT            |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH EXCEPT ALL      |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
------------------------------------------------------------------------------------------

10 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH MINUS             |       |              |      |      |       |        |
| 4   |         HASH EXCEPT ALL      |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
1            11          
3            332         
1            11          
3            33          
3            33          
1            11          

6 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH EXCEPT ALL        |       |              |      |      |       |        |
| 4   |         HASH EXCEPT ALL      |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
1            11          
3            332         
1            11          
3            33          
3            33          
1            11          

6 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH MINUS             |       |              |      |      |       |        |
| 4   |         HASH EXCEPT ALL      |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
1            11          
1            11          
1            11          
3            332         
3            33          
3            33          

6 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |              |      |      |       |        |
| 2   |     SUBSELECT                    |       |              |      |      |       |        |
| 3   |       HASH DISTINCT              |       |              |      |      |       |        |
| 4   |         SUBSELECT                |       |              |      |      |       |        |
| 5   |           HASH EXCEPT ALL        |       |              |      |      |       |        |
| 6   |             HASH EXCEPT ALL      |       |              |      |      |       |        |
| 7   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 8   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 9   |             TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 10  |     TABLE ACCESS FULL            | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   10 - filter: F_INT1 = F_INT1                                 

18 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) except all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
1            11          
1            11          
1            11          
3            332         
3            33          
3            33          

6 rows fetched.

SQL> -- intersect
SQL> explain select distinct f_int1, f_int2 from t_in_minus_1 intersect select f_int1, f_int2 from t_in_minus_2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------
| Id  | Description              | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT         |       |              |      |      |       |        |
| 1   |   HASH INTERSECT         |       |              |      |      |       |        |
| 2   |     HASH DISTINCT        |       |              |      |      |       |        |
| 3   |       TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 4   |     TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
----------------------------------------------------------------------------------------

9 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)        |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH INTERSECT       |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)        |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH INTERSECT ALL   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   NESTED LOOPS             |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH INTERSECT       |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - filter: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
2            22          
5            55          

3 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   NESTED LOOPS             |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH INTERSECT       |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 6   |     TABLE ACCESS FULL      | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   6 - filter: F_INT1 = F_INT1                                  

14 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
2            22          
5            55          

3 rows fetched.

SQL> -- complex intersect
SQL> explain select distinct f_int1, f_int2 from t_in_minus_1 intersect all select f_int1, f_int2 from t_in_minus_2;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------
| Id  | Description              | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT         |       |              |      |      |       |        |
| 1   |   HASH INTERSECT ALL     |       |              |      |      |       |        |
| 2   |     HASH DISTINCT        |       |              |      |      |       |        |
| 3   |       TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 4   |     TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
----------------------------------------------------------------------------------------

9 rows fetched.

SQL> explain select distinct * from (select f_int1, f_int2 from t_in_minus_1 intersect all select f_int1, f_int2 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------
| Id  | Description                | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT           |       |              |      |      |       |        |
| 1   |   HASH DISTINCT            |       |              |      |      |       |        |
| 2   |     SUBSELECT              |       |              |      |      |       |        |
| 3   |       HASH INTERSECT ALL   |       |              |      |      |       |        |
| 4   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 5   |         TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
------------------------------------------------------------------------------------------

10 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH INTERSECT       |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
5            55          
2            22          

3 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH INTERSECT       |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
2            22          
5            55          

3 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH INTERSECT ALL   |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
5            55          
2            22          

3 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT ALL     |       |              |      |      |       |        |
| 4   |         HASH INTERSECT ALL   |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
5            55          
2            22          

3 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH INTERSECT ALL   |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
2            22          
5            55          

3 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH INTERSECT ALL   |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
2            22          
5            55          

3 rows fetched.

SQL> explain select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   HASH JOIN SEMI(L)          |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT ALL     |       |              |      |      |       |        |
| 4   |         HASH INTERSECT ALL   |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   1 - access: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select * from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------
2            22          
5            55          
2            22          

3 rows fetched.

SQL> --combine test
SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH EXCEPT ALL      |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) intersect select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------

0 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) except all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |              |      |      |       |        |
| 2   |     SUBSELECT                    |       |              |      |      |       |        |
| 3   |       HASH DISTINCT              |       |              |      |      |       |        |
| 4   |         SUBSELECT                |       |              |      |      |       |        |
| 5   |           HASH EXCEPT ALL        |       |              |      |      |       |        |
| 6   |             HASH INTERSECT ALL   |       |              |      |      |       |        |
| 7   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 8   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 9   |             TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 10  |     TABLE ACCESS FULL            | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   10 - filter: F_INT1 = F_INT1                                 

18 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2) except all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------

0 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH EXCEPT ALL      |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------

0 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       HASH INTERSECT         |       |              |      |      |       |        |
| 4   |         HASH MINUS           |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |         TABLE ACCESS FULL    | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 8   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   8 - filter: F_INT1 = F_INT1                                  

16 rows fetched.

SQL> select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in ((select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2) intersect all select f_int1 from t_in_minus_2);

F_INT1       F_INT2      
------------ ------------

0 rows fetched.

SQL> --combine limit
SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 limit 10); 

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
----------------------------------------------------------------------------------------------
| Id  | Description                    | Owner | Name         | Rows | Cost | Bytes | Remark |
----------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT               |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                 |       |              |      |      |       |        |
| 2   |     SUBSELECT                  |       |              |      |      |       |        |
| 3   |       HASH DISTINCT            |       |              |      |      |       |        |
| 4   |         SUBSELECT              |       |              |      |      |       |        |
| 5   |           QUERY LIMIT          |       |              |      |      |       |        |
| 6   |             TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 7   |     TABLE ACCESS FULL          | SYS   | T_IN_MINUS_1 |      |      |       |        |
----------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - filter: F_INT1 = F_INT1                                  

15 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect all select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |              |      |      |       |        |
| 2   |     SUBSELECT                    |       |              |      |      |       |        |
| 3   |       HASH DISTINCT              |       |              |      |      |       |        |
| 4   |         SUBSELECT                |       |              |      |      |       |        |
| 5   |           SELECT LIMIT           |       |              |      |      |       |        |
| 6   |             HASH INTERSECT ALL   |       |              |      |      |       |        |
| 7   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 8   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 9   |     TABLE ACCESS FULL            | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   9 - filter: F_INT1 = F_INT1                                  

17 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 except all select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |              |      |      |       |        |
| 2   |     SUBSELECT                    |       |              |      |      |       |        |
| 3   |       HASH DISTINCT              |       |              |      |      |       |        |
| 4   |         SUBSELECT                |       |              |      |      |       |        |
| 5   |           SELECT LIMIT           |       |              |      |      |       |        |
| 6   |             HASH EXCEPT ALL      |       |              |      |      |       |        |
| 7   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 8   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 9   |     TABLE ACCESS FULL            | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   9 - filter: F_INT1 = F_INT1                                  

17 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 union all select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
------------------------------------------------------------------------------------------------
| Id  | Description                      | Owner | Name         | Rows | Cost | Bytes | Remark |
------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT                 |       |              |      |      |       |        |
| 1   |   NESTED LOOPS                   |       |              |      |      |       |        |
| 2   |     SUBSELECT                    |       |              |      |      |       |        |
| 3   |       HASH DISTINCT              |       |              |      |      |       |        |
| 4   |         SUBSELECT                |       |              |      |      |       |        |
| 5   |           SELECT LIMIT           |       |              |      |      |       |        |
| 6   |             UNION ALL            |       |              |      |      |       |        |
| 7   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 8   |               TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 9   |     TABLE ACCESS FULL            | SYS   | T_IN_MINUS_1 |      |      |       |        |
------------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   9 - filter: F_INT1 = F_INT1                                  

17 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 minus select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       SELECT LIMIT           |       |              |      |      |       |        |
| 4   |         HASH MINUS           |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - filter: F_INT1 = F_INT1                                  

15 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 except select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       SELECT LIMIT           |       |              |      |      |       |        |
| 4   |         HASH MINUS           |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - filter: F_INT1 = F_INT1                                  

15 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 union select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       SELECT LIMIT           |       |              |      |      |       |        |
| 4   |         HASH UNION           |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - filter: F_INT1 = F_INT1                                  

15 rows fetched.

SQL> explain select /*+use_nl(t_in_minus_1)*/* from t_in_minus_1 where f_int1 in (select f_int1 from t_in_minus_1 intersect select f_int1 from t_in_minus_2 limit 10);

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description                  | Owner | Name         | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT             |       |              |      |      |       |        |
| 1   |   NESTED LOOPS               |       |              |      |      |       |        |
| 2   |     SUBSELECT                |       |              |      |      |       |        |
| 3   |       SELECT LIMIT           |       |              |      |      |       |        |
| 4   |         HASH INTERSECT       |       |              |      |      |       |        |
| 5   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_1 |      |      |       |        |
| 6   |           TABLE ACCESS FULL  | SYS   | T_IN_MINUS_2 |      |      |       |        |
| 7   |     TABLE ACCESS FULL        | SYS   | T_IN_MINUS_1 |      |      |       |        |
--------------------------------------------------------------------------------------------
Predicate Information (identified by id):                       
-----------------------------------------                       
   7 - filter: F_INT1 = F_INT1                                  

15 rows fetched.

SQL> drop table t_in_minus_1;

Succeed.

SQL> drop table t_in_minus_2;

Succeed.

SQL> 
SQL> -- test parallel hint
SQL> drop table if exists test_parallel_hint_t;

Succeed.

SQL> create table test_parallel_hint_t(c1 int);

Succeed.

SQL> explain plan for select /*+parallel(-1)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                 | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                      |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T |      |      |       |        |
--------------------------------------------------------------------------------------------

6 rows fetched.

SQL> explain plan for select /*+parallel(0)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                 | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                      |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T |      |      |       |        |
--------------------------------------------------------------------------------------------

6 rows fetched.

SQL> explain plan for select /*+parallel(1)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                             |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T(p   1) |      |      |       |        |
---------------------------------------------------------------------------------------------------

6 rows fetched.

SQL> explain plan for select /*+parallel(4.0)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                             |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T(p   4) |      |      |       |        |
---------------------------------------------------------------------------------------------------

6 rows fetched.

SQL> explain plan for select /*+parallel(4.1)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                 | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                      |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T |      |      |       |        |
--------------------------------------------------------------------------------------------

6 rows fetched.

SQL> explain plan for select /*+parallel(9223372036854775807)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
---------------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                        | Rows | Cost | Bytes | Remark |
---------------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                             |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T(p  16) |      |      |       |        |
---------------------------------------------------------------------------------------------------

6 rows fetched.

SQL> explain plan for select /*+parallel(9223372036854775808)*/ * from test_parallel_hint_t;

EXPLAIN PLAN OUTPUT                                             
----------------------------------------------------------------
--------------------------------------------------------------------------------------------
| Id  | Description          | Owner | Name                 | Rows | Cost | Bytes | Remark |
--------------------------------------------------------------------------------------------
| 0   | SELECT STATEMENT     |       |                      |      |      |       |        |
| 1   |   TABLE ACCESS FULL  | SYS   | TEST_PARALLEL_HINT_T |      |      |       |        |
--------------------------------------------------------------------------------------------

6 rows fetched.

SQL> drop table test_parallel_hint_t;
Succeed.




