

SQL> show charset;

charset UTF8.

SQL> set charset gbkbbb;

unknown charset option gbkbbb.
Usage: SET CHARSET {GBK|UTF8}.

SQL> show charset;

charset UTF8.

SQL> set charset gbk;

GBK
SQL> show charset;

charset GBK.

SQL> drop table if exists test_gbk_t1;

Succeed.

SQL> create table test_gbk_t1(f1 char(40), f2 varchar(40));

Succeed.

SQL> insert into test_gbk_t1 values('中国','你好');

1 rows affected.

SQL> select * from test_gbk_t1;

F1                                       F2                                      
---------------------------------------- ----------------------------------------
中国                                     你好                                    

1 rows fetched.

SQL> drop table if exists test_gbk_t1;

Succeed.

SQL> set charset utf8;

UTF8
SQL> show charset;

charset UTF8.

SQL> 
SQL> CREATE TABLE IF NOT EXISTS `T_RCA_RULE` 
  2 ( 
  3 `ID` INT NOT NULL auto_increment, 
  4 `NAME` VARCHAR(200) NOT NULL COLLATE utf8_bin, 
  5 `DESCRIPTION` VARCHAR(500) DEFAULT '', 
  6 `CONTENT` TEXT NOT NULL, 
  7 `ENABLE` BOOL NOT NULL DEFAULT FALSE, 
  8 `PRIORITY` INT NOT NULL DEFAULT 0, 
  9 `PERIOD` INT NOT NULL, 
 10 `TENANT_ID` VARCHAR(128) NULL DEFAULT NULL, 
 11 `CREATE_TIME` BIGINT NOT NULL, 
 12 `UPDATE_TIME` BIGINT NOT NULL, 
 13 `RULE_EXPRS` TEXT NULL, 
 14 PRIMARY KEY (`ID`), 
 15 UNIQUE (`NAME`) ) DEFAULT COLLATE=utf8_bin CHARACTER SET = utf8; 

Succeed.

SQL> drop table T_RCA_RULE;

Succeed.

SQL> 
SQL> CREATE TABLE IF NOT EXISTS `T_RCA_RULE` 
  2 ( 
  3 `ID` INT NOT NULL auto_increment, 
  4 `NAME` VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, 
  5 `DESCRIPTION` VARCHAR(500) DEFAULT '', 
  6 `CONTENT` TEXT NOT NULL, 
  7 `ENABLE` BOOL NOT NULL DEFAULT FALSE, 
  8 `PRIORITY` INT NOT NULL DEFAULT 0, 
  9 `PERIOD` INT NOT NULL, 
 10 `TENANT_ID` VARCHAR(128) NULL DEFAULT NULL, 
 11 `CREATE_TIME` BIGINT NOT NULL, 
 12 `UPDATE_TIME` BIGINT NOT NULL, 
 13 `RULE_EXPRS` TEXT NULL, 
 14 PRIMARY KEY (`ID`), 
 15 UNIQUE (`NAME`) )COLLATE=utf8_bin DEFAULT CHARSET SET = utf8; 

Succeed.

SQL> drop table T_RCA_RULE;

Succeed.

SQL> 
SQL> CREATE TABLE IF NOT EXISTS `T_RCA_RULE` 
  2 ( 
  3 `ID` INT NOT NULL auto_increment, 
  4 `NAME` VARCHAR(200) CHARACTER SET GBK COLLATE GBK_BIN NOT NULL, 
  5 `DESCRIPTION` VARCHAR(500) DEFAULT '', 
  6 `CONTENT` TEXT NOT NULL, 
  7 `ENABLE` BOOL NOT NULL DEFAULT FALSE, 
  8 `PRIORITY` INT NOT NULL DEFAULT 0, 
  9 `PERIOD` INT NOT NULL, 
 10 `TENANT_ID` VARCHAR(128) NULL DEFAULT NULL, 
 11 `CREATE_TIME` BIGINT NOT NULL, 
 12 `UPDATE_TIME` BIGINT NOT NULL, 
 13 `RULE_EXPRS` TEXT NULL, 
 14 PRIMARY KEY (`ID`), 
 15 UNIQUE (`NAME`) )COLLATE=GBK_CHINESE_CI DEFAULT CHARSET SET = utf8;

Succeed.

SQL> drop table T_RCA_RULE;

Succeed.

SQL> 
SQL> 
SQL> CREATE TABLE IF NOT EXISTS `t_vertex` (
  2   `igs_id` varbinary(16) DEFAULT NULL,
  3   `igs_int_id` bigint DEFAULT NULL,
  4   `igs_type` int DEFAULT NULL,
  5   `igs_name` varchar(256) COLLATE utf8_bin DEFAULT NULL,
  6   `igs_property` varchar(2000) COLLATE utf8_bin DEFAULT NULL
  7 )  DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

Succeed.

SQL> drop table `t_vertex`;

Succeed.

SQL> 
SQL> 
SQL> CREATE TABLE IF NOT EXISTS `T_RCA_RULE` 
  2 ( 
  3 `ID` INT NOT NULL auto_increment, 
  4 `NAME` VARCHAR(200) CHARACTER SET GBK COLLATE GBK_BIN NOT NULL, 
  5 `DESCRIPTION` VARCHAR(500) DEFAULT '', 
  6 `CONTENT` TEXT NOT NULL, 
  7 `ENABLE` BOOL NOT NULL DEFAULT FALSE, 
  8 `PRIORITY` INT NOT NULL DEFAULT 0, 
  9 `PERIOD` INT NOT NULL, 
 10 `TENANT_ID` VARCHAR(128) NULL DEFAULT NULL, 
 11 `CREATE_TIME` BIGINT NOT NULL, 
 12 `UPDATE_TIME` BIGINT NOT NULL, 
 13 `RULE_EXPRS` TEXT NULL, 
 14 PRIMARY KEY (`ID`), 
 15 UNIQUE (`NAME`) )COLLATE=GBK_CHINESE_CI DEFAULT CHARSET SET = utf8; 

Succeed.

SQL> drop table `T_RCA_RULE`;

Succeed.

SQL> 
SQL> show charset;

charset UTF8.

SQL> -- modify server charset GBK
SQL> alter database character set gbk;

Succeed.

SQL> select character_set from dv_database;

CHARACTER_SET       
--------------------
GBK                 

1 rows fetched.

SQL> 
SQL> -- like
SQL> drop table if exists test_gbk_t1;

Succeed.

SQL> create table test_gbk_t1(f1 varchar(40), f2 varchar(40));

Succeed.

SQL> insert into test_gbk_t1 values('中国人民','你们好');

1 rows affected.

SQL> select f1,f2,hex(f1),hex(f2) from test_gbk_t1;

F1                                       F2                                       HEX(F1)                                                          HEX(F2)                                                         
---------------------------------------- ---------------------------------------- ---------------------------------------------------------------- ----------------------------------------------------------------
中国人民                                 你们好                                   D6D0B9FAC8CBC3F1                                                 C4E3C3C7BAC3                                                    

1 rows fetched.

SQL> select * from test_gbk_t1 where f1 like '中%人_';

F1                                       F2                                      
---------------------------------------- ----------------------------------------
中国人民                                 你们好                                  

1 rows fetched.

SQL> select * from test_gbk_t1 where f1 like '中_人_';

F1                                       F2                                      
---------------------------------------- ----------------------------------------
中国人民                                 你们好                                  

1 rows fetched.

SQL> select * from test_gbk_t1 where f1 like '%国%_';

F1                                       F2                                      
---------------------------------------- ----------------------------------------
中国人民                                 你们好                                  

1 rows fetched.

SQL> select * from test_gbk_t1 where f1 like '%国%民';

F1                                       F2                                      
---------------------------------------- ----------------------------------------
中国人民                                 你们好                                  

1 rows fetched.

SQL> 
SQL> -- like escape
SQL> insert into test_gbk_t1 values('中国人民','你_好');

1 rows affected.

SQL> select * from test_gbk_t1 where f2 like '你*_好' escape '*';

F1                                       F2                                      
---------------------------------------- ----------------------------------------
中国人民                                 你_好                                   

1 rows fetched.

SQL> 
SQL> drop table if exists test_gbk_t1;

Succeed.

SQL> 
SQL> -- length
SQL> select length('你_好') from dual;

LENGTH('你_好')     
--------------------
3                   

1 rows fetched.

SQL> -- clob_len_from_knl
SQL> drop table if exists test_length;

Succeed.

SQL> create table test_length(f1 clob);

Succeed.

SQL> insert into test_length values('大家把课代表dhajhd');

1 rows affected.

SQL> select length(f1) from test_length;

LENGTH(F1)          
--------------------
12

1 rows fetched.

SQL> 
SQL> -- instr
SQL> select instr('中国人民','人民') from dual;

INSTR('中国人民','人民')
------------------------
3                       

1 rows fetched.

SQL> 
SQL> -- left
SQL> select left('中国人名',2);

LEFT('中国人名',2)
------------------
中国              

1 rows fetched.

SQL> 
SQL> -- locate
SQL>  select locate('人','中国人名');

LOCATE('人','中国人名')
-----------------------
3                      

1 rows fetched.

SQL> 
SQL> -- reverse
SQL> select reverse('中国人');

REVERSE('中国人')
-----------------
人国中           

1 rows fetched.

SQL> 
SQL> -- right
SQL> select right('中国人',2);

RIGHT('中国人',2)
-----------------
国人             

1 rows fetched.

SQL> 
SQL> -- substr
SQL> select substr('中国人',2,2);

SUBSTR('中国人',2,2)
--------------------
国人                

1 rows fetched.

SQL> 
SQL> -- regexp_instr
SQL> select regexp_instr('中,国,人','[^,]+',2) from dual;

REGEXP_INSTR('中,国,人','[^,]+',2)
----------------------------------
3                                 

1 rows fetched.

SQL> 
SQL> -- regexp_substr
SQL> select regexp_substr('中,国,人', '[^,]+', 1, 1) from dual;

REGEXP_SUBSTR('中,国,人', '[^,]+', 1, 1)
----------------------------------------
中                                      

1 rows fetched.

SQL> 
SQL> -- lower
SQL> select lower('MR. SCOTT MCMILLAN') "Lowercase" from sys_dummy;

Lowercase               
------------------
mr. scott mcmillan

1 rows fetched.

SQL> 
SQL> -- upper 
SQL> select upper('mr. scott mcmillan') "Uppercase" from sys_dummy;

Uppercase               
------------------
MR. SCOTT MCMILLAN

1 rows fetched.

SQL> 
SQL> -- asciistr
SQL> select asciistr('6473hesa*&^%') from dual;

ASCIISTR('6473HESA*&^%')
------------------------
6473hesa*&^%            

1 rows fetched.

SQL> select asciistr('abc严才123@.com') from dual;

ASCIISTR('ABC严才123@.COM')
---------------------------
abc\4E25\624D123@.com      

1 rows fetched.

SQL> select asciistr('にほんご') from dual;

ASCIISTR('にほんご')
--------------------
\306B\307B\3093\3054

1 rows fetched.

SQL> select asciistr(111111111111111111111111111111111111111111111) from dual;

ASCIISTR(111111111111111111111111111111111111111111111)
-------------------------------------------------------
1.1111111111111111111111111111111111E+44               

1 rows fetched.

SQL> select asciistr(123.4444444444444444444444444) from dual;

ASCIISTR(123.4444444444444444444444444)
---------------------------------------
123.4444444444444444444444444          

1 rows fetched.

SQL> select asciistr('a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456fghuftyttttttthfdghtedytydghdghfdghdfhjgfyhjfyhutyhdrfhtyrdtyddhjeryjejytedyjdnhdgfdtyjrdhdfgfdgfdfgdhgdhgedtgjedjgedrghedtfghjkld1234567891111114785r') from dual;

ASCIISTR('A123456789A123456789A123456789A123456789A123456789A123
----------------------------------------------------------------
a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456789a123456fghuftyttttttthfdghtedytydghdghfdghdfhjgfyhjfyhutyhdrfhtyrdtyddhjeryjejytedyjdnhdgfdtyjrdhdfgfdgfdfgdhgdhgedtgjedjgedrghedtfghjkld1234567891111114785r

1 rows fetched.

SQL> select asciistr(cast ('a' as char(2000))||cast ('a' as char(2000))) from dual;

ASCIISTR(CAST ('A' AS CHAR(2000))||CAST ('A' AS CHAR(2000)))    
----------------------------------------------------------------
a                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               a                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               

1 rows fetched.

SQL> select asciistr(null) from dual;

ASCIISTR(NULL)
--------------
              

1 rows fetched.

SQL> select asciistr(122asd) from dual;

CT-00636, [1:17]Invalid number 
SQL> 
SQL> -- to_single_byte
SQL> select to_single_byte('　”＄’洹～') from dual;

TO_SINGLE_BYTE('　”＄’洹～')
--------------------------------
 "$'^`~                         

1 rows fetched.

SQL> select to_single_byte('！＃％＆（）＊＋，－．／０１２３４５６７８９：；＜＝＞？＠ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ［＼］＿ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ｛｜｝') from dual;

TO_SINGLE_BYTE('！＃％＆（）＊＋，－．／０１２３４５６７８９：；
----------------------------------------------------------------
!#%&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]_abcdefghijklmnopqrstuvwxyz{|}

1 rows fetched.

SQL> select to_single_byte('123 abc　４５６ｅｆｇ华为数据库') from dual;

TO_SINGLE_BYTE('123 ABC　４５６ｅｆｇ华为数据库')
-------------------------------------------------
123 abc 456efg华为数据库                         

1 rows fetched.

SQL> select to_single_byte(12*3+6-8/2) from dual;

TO_SINGLE_BYTE(12*3+6-8/2)
--------------------------
38                        

1 rows fetched.

SQL> select TO_SINGLE_BYTE('123 ｄａｄ达到') from dual;

TO_SINGLE_BYTE('123 ｄａｄ达到')
--------------------------------
123 dad达到                     

1 rows fetched.

SQL> select to_single_byte('\'') from dual;

CT-00601, [1:22]Sql syntax error: text is not completed
SQL> select to_single_byte(１２３) from dual;

CT-00601, [1:23]Sql syntax error: invalid column name '１２３'
SQL> 
SQL> -- to_multi_byte
SQL> select to_multi_byte(' "$^`~') from dual;

TO_MULTI_BYTE(' "$^`~')
-----------------------
　”＄洹～           

1 rows fetched.

SQL> select to_multi_byte('''') from dual;

TO_MULTI_BYTE('''')
-------------------
’    

1 rows fetched.

SQL> select to_multi_byte('!#%&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]_abcdefghijklmnopqrstuvwxyz{|}') from dual;

TO_MULTI_BYTE('!#%&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRST
----------------------------------------------------------------
！＃％＆（）＊＋，－．／０１２３４５６７８９：；＜＝＞？＠ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ［＼］＿ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ｛｜｝

1 rows fetched.

SQL> select to_multi_byte('123 abc　４５６ｅｆｇ华为数据库') from dual;

TO_MULTI_BYTE('123 ABC　４５６ｅｆｇ华为数据库')
------------------------------------------------
１２３　ａｂｃ　４５６ｅｆｇ华为数据库          

1 rows fetched.

SQL> select to_multi_byte(12*3+6-8/2) from dual;

TO_MULTI_BYTE(12*3+6-8/2)
-------------------------
３８                     

1 rows fetched.

SQL> select TO_MULTI_BYTE('123 ｄａｄ达到') from dual;

TO_MULTI_BYTE('123 ｄａｄ达到')
-------------------------------
１２３　ｄａｄ达到             

1 rows fetched.

SQL> select to_multi_byte('\'') from dual;

CT-00601, [1:21]Sql syntax error: text is not completed
SQL> select to_multi_byte(１２３) from dual;

CT-00601, [1:22]Sql syntax error: invalid column name '１２３'
SQL> 
SQL> -- modify server charset utf8
SQL> alter database character set utf8;

Succeed.

SQL> select character_set from dv_database;

CHARACTER_SET       
--------------------
UTF8                

1 rows fetched.

SQL> show charset;

charset UTF8.

SQL> 


